var form={key:"2d8c12be3a09dc2eb907c9be7",list:function(e){"use strict";if(!this.el||!e)return[];var t=this.el.querySelectorAll(e);return t.length?Array.from&&Array.from(t)||[].slice.call(t):[]},valid:function(){"use strict";if(this.required.length){var e,t=this.list(".error"),r=!0;for(e=0;e<t.length;e+=1)t[e].classList.remove("error");for(t=this.required,e=0;e<t.length;e+=1)t[e].value&&("email"!==t[e].type||/^\S+@\S+\.\S+$/.test(t[e].value))||(r=!1,t[e].parentNode.classList.add("error"),t[e].setAttribute("placeholder",t[e].getAttribute("data-error")));return r}return!0},success:function(e){"use strict";var t;e?t="success"===e.result?"<h1 class=success>תודה</h1><p>לסיום ההרשמה תקבל עכשיו מייל לאישור</p>":e.msg&&e.msg.indexOf("list-manage.com/subscribe/send-email")?"<h1 class=error>שגיאה...</h1><p>את כבר רשומה, תנסי עם <a href="+document.location.href+">אימייל אחר</a></p>":"<h1 class=error>שגיאה...</h1><p>בבקשה <a href="+document.location.href+">תנסי שוב</a> מאוחר יותר</p>":(t="<h1 class=error>שגיאה בשרת...</h1><p>ניתן להירשם דרך <a href=//www.facebook.com/LeaLaukstein/>LeaLaukstein</a> או <a href="+document.location.href+">תנסי שוב</a></p>",console.error("Form error",e)),this.el.outerHTML="<div>"+t+"</div>"},serialize:function(){"use strict";var e,t=this.list("input"),r=[];for(e=0;e<t.length;e+=1)("checkbox"!==t[e].type&&"radio"!==t[e].type&&t[e].value||t[e].checked)&&r.push(t[e].name+"="+encodeURIComponent(t[e].value));return r.join("&")},send:function(e){"use strict";if(e&&e.preventDefault(),form.active&&form.valid()){var t,r=document.getElementsByTagName("head")[0],i=document.createElement("script"),n=form.list("input, button");for(i.src=form.el.action+"&"+form.serialize(form.el)+"&b_"+form.key+"_"+form.name+"&_="+Math.random().toString(16).substr(2,8)+"&c=form.success",t=0;t<n.length;t+=1)n[t].setAttribute("disabled",""),"BUTTON"===n[t].tagName&&(n[t].innerHTML="שולח...");form.currentScript&&r.removeChild(currentScript),r.appendChild(i),form.currentScript=i}},dependencies:function(){"use strict";"classList"in document.documentElement||!Element.prototype||Object.defineProperty(Element.prototype,"classList",{get:function(){function e(){return r.className.split(/\s+/)}function t(t){return function(i){var n=e(),s=n.indexOf(i);t(n,s,i),r.className=n.join(" ")}}var r=this;return{add:t(function(e,t,r){~t||e.push(r)}),remove:t(function(e,t){~t&&e.splice(t,1)}),item:function(t){return e()[t]||null},toggle:t(function(e,t,r){~t?e.splice(t,1):e.push(r)}),contains:function(t){return!!~e().indexOf(t)}}}}),"undefined"==typeof console&&(window.console={log:function(){},error:function(){}})},number:function(e,t){"use strict";if(e)try{t=t||String.fromCharCode(e.keyCode||e.which),(" "===t||isNaN(t))&&e.preventDefault()}catch(r){e.preventDefault()}},paste:function(e){"use strict";if(e){var t;e.clipboardData?t=e.clipboardData.getData("text/plain"):window.clipboardData&&(t=window.clipboardData.getData("Text")),t?form.number(e,t):e.preventDefault()}},drop:function(e){"use strict";e&&e.preventDefault()},init:function(e){"use strict";if(!this.active&&(this.el=e&&document.getElementById(e),this.el&&(this.name=this.el.getAttribute("name"),this.name))){this.active=!0,this.el.action="//laukstein.us13.list-manage.com/subscribe/post-json?u="+this.key+"&id="+this.name,this.el.addEventListener("submit",this.send),this.required=this.list("[data-required]"),this.dependencies();var t=document.getElementById("tel");t&&(t.addEventListener("keypress",this.number),t.addEventListener("paste",this.paste),t.addEventListener("drop",this.drop))}}};form.init("form");