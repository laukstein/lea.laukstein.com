ui.academy={data:{startDate:15134616e5,interval:7,init:{title:"ברוכה הבאה",page:{type:"video",title:"ברוכה הבאה לקורס סטייל שבא מבפנים",value:"nSv3UYBf8Gw"}},session:{colours:{title:"הצבע הזה הוא אני",pages:{"video-1":{type:"video",title:"איך צבע נכון ולא נכון משפיע על הפנים",value:"Ws126uyiS9g"},"video-2":{type:"video",title:"שש קטגורייות אנשים",value:"fyLTeiOpItU"},"video-3":{type:"video",title:"שיעורי בית",value:"1LcyCHR5D-Q"},qa:{type:"qa",title:"שאלון:\nלאיזה קטגוריית צבעים את שייכת?",value:"academy-colours.jpg",option:[{title:"האם צבע השיער שלך שחור או חום כהה?",option:[{title:"העיניים שלך מבריקות, בולטות, בצבע כחול כהה או ירוק כהה? האם יש קונטראסט בין הלבן בעיניים לבין האישון?","final":"clear"},{title:"העיניים שלך כהות?","final":"deep"},{title:"העיניים שלך בהירות, כחול בהיר או אפור בהיר?","final":"bright"}]},{title:"האם צבע השיער שלך בלונד בהיר, אפור בהיר, חום בהיר?",option:[{title:"העיניים שלך בהירות בצבעים כחול בהיר, אפור או ירוק בהיר?","final":"bright"},{title:"העיניים שלך חום בהיר, מתמזג עם צבע השיער?","final":"mixed"}]},{title:"האם צבע השיער שלך חום בינוני או עכברי, אפור בינוני, בלונד אפורי, בלונד כהה?",option:[{title:"העיניים שלך בהירות בצבעים כחול בהיר, אפור או ירוק בהיר?","final":"bright"},{title:"העיניים שלך חום בהיר, מתמזג עם צבע השיער?","final":"mixed"}]},{title:"האם צבע השיער שלך ג'ינג'י, דבש, ערמוני, והעיניים שלך ירוק חם כהה, חום ירקרק, חום דבש, כחול ירוק?","final":"warm"},{title:"האם צבע השיער שלך חום אפרפר (עכברי), בלונדי-אפרורי, כסוף, שיבה אפור, והצבע העיניים שלך כחול או חום או ירקרק?","final":"cold"}],"final":{clear:{title:"את צלולה",value:"0B3TGizvMXI6lZGZTckc0VElhVnc"},deep:{title:"את עמוקה",value:"0B3TGizvMXI6lSXNCYTNpLUh3LUU"},bright:{title:"את בהירה",value:"0B3TGizvMXI6lbUJ0S1RCbkpiU28"},mixed:{title:"את מעורבת",value:"0B3TGizvMXI6lbWhDNW1SNHZWVU0"},warm:{title:"את חמה",value:"0B3TGizvMXI6lNHhrTzdzb3ByaU0"},cold:{title:"את קרה",value:"0B3TGizvMXI6lNzRjamg5a1ZreVE"}}},"video-4":{type:"video",title:"איך לשלב צבעים",value:"3cA_tnKHbvo"},document:{type:"document",title:"מעגל צבעים",value:"0B3TGizvMXI6lSnktdTdteUtJS0k"}}},"body-shape":{title:"כמה טוב להיות את!",pages:{"video-1":{type:"video",title:"למה חשוב להתלבש לפי מבנה גוף",value:"67JOe6ZRV7c"},"video-2":{type:"video",title:"אילו מבנה גוף יש",value:"QrPC6lvIAKE"},"video-3":{type:"video",title:"איך לדעת מה מבנה גוף שלך",value:"GRyHlrJnV6Q"},calculator:{type:"calculator",title:"מחשבון:\nתאבחני את מבנה הגוף שלך",value:"1gKI_JUyD20fvq27_B3Kxq9vfJ6f99xLnnd1ht1vibhU",button:"הצג תוצאה",notice:"שימי לב, חישוב ניתן רק לפעם אחת",result:"את בעלת מבנה גוף {0}",download:"להוריד מדריך הגיזרות",error:"שגיאה בחישוב, {0}נא לפנות ללאה{1}",option:{A:"היקף הכתפיים",B:"היקף היריכיים",C:"היקף המותן",D:"היקף החזה"},"final":{hourglass:{title:"שעון חול",value:"1bcn85H0V-BfhQ_K8WoBfnuJYGoyicdKbx1BUtk-3-0o"},invertedTriangle:{title:"משולש הפוך",value:"1D9zt-uqJyT9YNCZHm6VBjJmbRovTJWad_wlP77Z23EI"},triangle:{title:"משולש",value:"11ERkWQ_5EdOu67T_glBwUYgmBvtwmP-U3xpxaF6QK-w"},rounded:{title:"מעוגל",value:"1Dq2xJwSz9noiMjOC24esefAnvQn260zxA2YLrjqnrZ8"},square:{title:"מרובע",value:"1gKI_JUyD20fvq27_B3Kxq9vfJ6f99xLnnd1ht1vibhU"}}}}},style:{title:"על טעם, ריח, ואופי",pages:{"video-1":{type:"video",title:"למה חשוב לדעת מה סגנון הלבוש שלך",value:"7AMQxfNDzIM"},"video-2":{type:"video",title:"אילו סגנונות לבוש יש",value:"P1IQBJCoUTc"},"video-3":{type:"video",title:"שיעורי בית",value:"rs8o-d7gkpo"},sat:{type:"sat",title:"שאלון:\nמצאי את סגנון הלבוש שלך",next:"המשך",back:"חזור",button:"הצג תוצאה",limit:"סמני מקסימום שתי תשובות",value:"academy-style.jpg",option:[{title:"כיצד את בוחרת את צבעי הבגדים שלך?",option:{A:"בהתאם למצב רוח שלי באותו יום",B:"צבעים חזקים וקונטרסטים",C:"צבעי פסטל",D:"פריטי לבוש המתאימים מבחינת הצבעים, הבדים או הדוגמאות",E:"בשילובי צבעים בסיסיים ופשוטים ובצבעים חלקים, צבעי אדמה"}},{title:"כיצד תגדירי את סגנון הקניות שלך?",option:{A:"אוהבת לקנות בשווקים, יד שניה ובמבצעים",B:"קונה בלי לחשוב פעמיים כל דבר שמוצא חן בעיני",C:"הקניות עושות אותי שמחה ואני נהנת, אני יוצאת לקניות כשאני רוצה לשפר מצב רוח שלי",D:"הקניות שלי מתוכננות ונעשות על פי רשימה מוכנה מראש, משקיעה בפריטים איכותיים וקלאסיים שתמיד באופנה",E:"קונה בהתאם לצורך או לקראת אירועים מיוחדים. לא מוכנה לוותר על נוחות, במקרה הצורך אלך לתופרת"}},{title:"כיצד היית מגדירה את הופעתך באופן כללי?",option:{A:"בעלת סגנון ייחודי המשלב פריטים שונים ויוצאי דופן",B:"בעלת אמירה אופנתית ופריטים המושכים תשומת לב",C:"אוהבת בגדים עם קישוטים עדינים הגורמים לי להרגיש נשית",D:"נקי ואלגנטי",E:"אוהבת בגדים נוחים"}},{title:"איזה מהפריטים בארון שלך משמשים אותך לעבודה?",option:{A:"פריטי לבוש אקראיים שאני מערבבת ביניהם לפי טעמי האישי",B:"פריטים יוצאי דופן שתופסים את העין",C:"חולצות יפות ועליוניות שאני משלבת עם חצאיות",D:"פריטים בסיסיים הניתנים לשדרוג עם אביזרים, פריטים מחויטים",E:"פריטי לבוש יום יומיים, כמו מכנסי ג'ינס וחולצה פשוטים"}},{title:"איזה מהפריטים בארון שלך משמשים אותך לשעות הפנאי?",option:{A:"אוסף פריטי לבוש בסגנון רטרו או וינטאג'",B:"הפריטים האופנתיים שנרכשו לאחרונה",C:"פריטים יפים ונשיים, עם תחרות",D:"פריטים בעלי סגנון פשוט שלהם אני מוספיה אביזרים",E:"בגדים נוחים ואיכותיים, מכותנה או פשתן, טוניקות"}},{title:"איזה מהפריטים בארון שלך שמורים לאירועים מיוחדים?",option:{A:"שילבו בדים מיוחדים או גזרות מעניינות",B:"פריטים מיוחדים וגרנדיוזיים המושכים תשומת הלב",C:"שמלות נשיות וקלילות ומקושטות ועשויים מבדים קלילים",D:"חליפה אלגנטית ומחויטת או שמלה קלאסית וסולידית בשילוב תכשיטים אופנתיים",E:"חצאית אלגנטית ערוכה ונוחה או מכנסיים בשילוב עם חולצה נוחה וחגיגית או טוניקה"}},{title:"כיצד תתארי את הנעליים שלך?",option:{A:"לאו דווקא מתאימות ללבוש שלי אבל מיוחדות",B:"לרוב בעלות עקבים",C:"יפות עם סרטים או קישוטים",D:"קלאסיות, מתאימות להרבה בגדים",E:"נוחות ושטוחות"}},{title:"איזה סוג תכשיטים את אוהבת?",option:{A:"לא שגרתיים, ממש פריטי אספנות",B:"גדולים ובעלי אמירה אישית",C:"מורכבים ועשירים מאוד בפריטים, עם סלסולים ופרחים",D:"בעלי קו מעודן וקלאסי, עשויים מזהב או כסף",E:"עשויים בדרך כלל מחומרים טבעים"}},{title:"מהו יחסך לנושא האיפור?",option:{A:"אוהבת להתנסות בדברים חדשים ומתחדשים כל הזמן",B:"אוהבת אותו מודגש וקצת מוגזם",C:"אוהבת ומשקיעה בו זמן רב",D:"לא מחדשת, דבקה בהרגלים שלי, אבל חשוב ומשלים את ההופעה שלי",E:"מינימליסטי, אם בכלל"}},{title:"מהו סגנון כיסוי ראש / שיער שלך?",option:{A:"משתנה בהתאם למצב הרוח שלי",B:"משתנה בקביעות, משתנה בצבעוניות",C:"אוהבת להוציא שיער בצדדים. שיער ארוך",D:"מעודן ומשתלב עם הלבוש שלך",E:"דורש תחזוקה מינימלית"}},{title:"כשאת בוחרת חולצה מודפסת היא תהיה____?",option:{A:"הדפס בסגנון חדש, שאין לי בארון",B:"הדפס דומיננטי",C:"עדין עם נקודות או פרחים קטנים",D:"בדרך כלל קונה פריטים ללא הדפס",E:"אוהבת חלק וגם אוהבת הדפס אתני"}}],success:{title:"הסגנון שלך הוא {0}",link:"https://www.pinterest.com/lea0156/",value:"{0}סגנון-{1}/",result:"תמונות סגנון {0}",all:"תמונות לכל הסגנונות ב-{0}"},"final":{A:"יצירתי",B:"דרמטי",C:"רומנטי",D:"קלאסי",E:"טבעי"}}}},"magic-closet":{title:"ארון הקסמים",pages:{}},"modular-outfit":{title:"יש לך מה ללבוש",pages:{"video-1":{type:"video",title:"למה חשוב שמערכת לבוש תהיה יעילה",value:"8rn-HCDQzL4"},"video-2":{type:"video",title:"מה כוללת מערכת לבוש יעילה",value:"-zHM4bjnLsI"},"video-3":{type:"video",title:"שיעורי בית",value:"yzJaU1ZW1QU"},"check-list":{type:"document",title:"צ'ק ליסט למערכת לבוש יעילה",value:"1eSQaxVn2AKrwwrNafS0JnKTwjJzs50-7edCKn8kwkVs",download:"https://docs.google.com/document/d/{0}/export?format=pdf"}}},accessories:{title:"התוספת שתופסת",pages:{"video-1":{type:"video",title:"למה להשתמש באקססוריז",value:"lJN1n7ecLmY"},"video-2":{type:"video",title:"סוגי אקססוריז",value:"kp6SULk09RY"},"video-3":{type:"video",title:"איך להתאים אקססוריז למבנה גוף שלך",value:"dkO7I7yHu0o"},"video-4":{type:"video",title:"שיעורי בית",value:"uxNjzX1V6uk"}}},lingerie:{title:"יסודות למראה חטוב",pages:{"video-1":{type:"video",title:"כמה חשיבות יש הלבשה תחתונה",value:"k1ASomUAM34"},"video-2":{type:"video",title:"גזרה, צבע ובד בהלבשה תחתונה",value:"IpwM9HEeup4"},"video-3":{type:"video",title:"איך לדעת שהלבשה תחתונה מתאימה",value:"2H9HC-eaRAE"},"video-4":{type:"video",title:"שיעורי בית",value:"nYtkrABvBXw"}}},bonuses:{title:"בונוסים",date:{interval:3,format:"..."},pages:{underwear:{type:"document",title:"הלבשה תחתונה",value:"1waOmpJlmN6tRAn6M6scEUwbGN_OhvrFDdacIqJyGD5w"}}}}},hash:{},iconCheck:"<svg class=icon-check><use xlink:href=#check /></svg>",iconClose:"<svg class=icon-close><use xlink:href=#close /></svg>",session:function(){"use strict";function e(e,t){var i={};try{i=JSON.parse(localStorage[e])}catch(a){delete localStorage[e]}return"function"==typeof t?t(i):i}return e("session",function(t){return t.email&&t.token?t:e("user",function(e){return e.email&&e.token&&(localStorage.session=localStorage.user,delete localStorage.user,ui.setUser(e)),e})})}(),fetch:function(){"use strict";for(var e=location.host.split(".");e.length>2;)e.shift();return location.protocol+"//lab."+e.join(".")+"/academy"}(),dataset:function(e,t){"use strict";return e&&1===e.nodeType?e.dataset?e.dataset[t]:e.getAttribute("data-"+t):void 0},select:function(e,t){"use strict";if(e){var i={session:this.dataset(e,"session"),page:this.dataset(e,"page")};this.hash.session===i.session&&this.hash.page===i.page?(e.classList.toggle("expand"),this.bar&&this.bar.checked&&(this.bar.checked=!1)):(i=ui.serialize(i),!t&&i?(location.hash=i,ui.d.body.scrollTop=0):(!i&&location.hash||!this.data.session[ui.hash("session")])&&(location.hash="",history.replaceState&&history.replaceState("",ui.d.title,location.pathname)))}},refresh:function(e){"use strict";e?ui.w.location=location.pathname:location.reload()},login:function(e){"use strict";e.preventDefault(),ui.form.accessibility(!1,null,!0);var t=this;fetch(t.fetch+"/login",{method:"POST",redirect:"error",body:JSON.stringify({email:t.email.value,pass:t.pass.value})}).then(function(e){return e.json()}).then(function(e){localStorage.session=JSON.stringify(e),ui.setUser(e),ui.form.accessibility(!0,null,!0),e.email&&e.token?ui.academy.refresh():t.button&&(t.button.classList.add("error"),t.button.innerHTML="הפרטים שגויים, נסי שוב")})["catch"](function(){alert("טעות במערכת, נסי שוב מאוחר יותר")})},forgot:function(){"use strict";ui.form.el.setAttribute("onsubmit","ui.academy.remind(event)"),this.email.focus(),this.pass.parentNode.remove(),this.button.innerHTML="שלח לי סיסמא",this.button.classList.remove("error"),this.link.innerHTML="לנסות להתחבר מחדש",this.link.setAttribute("onclick","ui.academy.refresh(true)")},remind:function(e){"use strict";e.preventDefault(),ui.form.accessibility(!1,null,!0);var t=this;fetch(t.fetch+"/forgot",{method:"POST",redirect:"error",body:JSON.stringify({email:t.email.value})}).then(function(e){return e.json()}).then(function(e){ui.form.accessibility(!0,null,!0),e.success?ui.form.el.innerHTML="<h2>פרטי גישה נשלחו למייל שלך</h2><a onclick=ui.academy.refresh(true)>לנסות להתחבר</a>":(t.button.classList.add("error"),t.button.innerHTML="מייל לא רשום, נסי שוב")})["catch"](function(){alert("טעות במערכת, נסי שוב מאוחר יותר")})},logout:function(){"use strict";delete localStorage.session,this.refresh(!0)},date:function(e){"use strict";e=e||{},this.currentTime?this.firstSession&&delete this.firstSession:this.firstSession=!0,this.currentTime=!e.interval&&this.currentTime||new Date(Math.max(this.data.startDate,this.data.date));var t=new Date(this.currentTime.setDate(this.currentTime.getDate()+(e.interval?e.interval*this.data.interval:this.firstSession?0:this.data.interval))+(e.interval?0:1e7));return{enabled:+t<=+new Date,format:e.format||t.getUTCDate()+"/"+(t.getUTCMonth()+1)}},key:function(e){"use strict";e&&e.target&&13===(e.keyCode||e.which)&&(e.preventDefault(),e.target.click())},events:function(e,t){"use strict";return" onclick=ui.academy.select(this) onkeydown=ui.academy.key(event)"+(e?" data-session="+e:"")+(t?" data-page="+t:"")+" tabindex=0"},isLogged:function(){"use strict";this.data.date=1e3*this.session.created,ui.d.documentElement.classList.remove("stretch"),ui.d.documentElement.classList.add("logedin"),this.details.remove(),this.account=ui.d.getElementById("account"),this.account.outerHTML='<div class=profile>    <img src="https://gravatar.com/avatar/'+this.session.avatar+'?s=42&r=g&d=mm">    <div class="table center">        <div class=cel>'+(this.session.firstName?"            <div class=nowrap dir=auto>"+this.session.firstName+"</div>":"")+"            <small onclick=ui.academy.logout()>התנתקי</small>        </div>    </div></div>",delete this.details,delete this.account;var e,t,i,a,s=this.data.init,o=ui.hash("session"),n="";n+='<div class="column nav-container" id=sidenav role=navigation dir=ltr><div class=sidenav dir=rtl>    <a class=active'+this.events()+"><label>"+s.title+"</label></a></div>",s=this.data.session,n+="<ol class=sidenav dir=rtl>";for(e in s)if(s.hasOwnProperty(e)&&(a=this.date(s[e].date),n+="    <li"+(e===o?" class=expand":"")+"><label"+(a.enabled?this.events(e):" disabled")+"><time>"+a.format+"</time><div>"+s[e].title+"</div></label>",t=s[e].pages,t&&a.enabled)){n+="<ol>";for(i in t)t.hasOwnProperty(i)&&(n+="    <li><a"+this.events(e,i)+">"+t[i].title.replace(/\n/g," ")+"</a>");n+="</ol>"}n+='</ol></div><div class="column content" id=content></div>',this.content.outerHTML="<div class=container>"+n+"</div>",this.content=ui.d.getElementById("content"),this.sidenav=ui.d.getElementById("sidenav"),this.toggleNav(!0)},list:function(e,t,i){"use strict";var a,s="";if(e.value)switch(e.type){case"video":a="-zHM4bjnLsI"===e.value?"0":"maxresdefault",s=ui.video.youtubeSupport?"https://img.youtube.com/vi/"+e.value+"/"+a+".jpg":ui.video.getData(e.value).image;break;case"document":case"calculator":s="https://drive.google.com/thumbnail?authuser=0&sz=w640&id="+e.value;break;case"sat":case"qa":s="/assets/"+e.value;break;default:s=""}return e?'<a class="absolute cover"'+this.events(t,i)+' style="background-image:url('+s+')"><h3 class=nowrap dir=auto>'+e.title.replace(/\n/g," ")+"</h3></a>":""},report:function(){"use strict"},uniqueID:function(){"use strict";return Math.random().toString(16).substr(2,8)},qa:function(e){"use strict";function t(e,a,s){var o,n,l,r=a!==!1,c="";if(a=a||0,r&&!s&&(a+=1),e){if(r&&(o=!e.option,l=!o&&i.uniqueID(),c+=(s?"":"<ol>")+"<li><input type=radio name="+a+(l?" id="+l:"")+"><label onclick="+(e["final"]?'"ui.academy.qa.dialog(event, '+a+", '"+e["final"]+"')\"":"ui.academy.qa.click(event) for="+l)+">"+ui.academy.iconCheck+e.title+"</label>"),Array.isArray(e.option)){a+=1,c+="<ol>";for(n in e.option)e.option.hasOwnProperty(n)&&(c+=t(e.option[n],a,!0));c+="</ol>"}else e.option&&(c+=t(e.option,a));r&&(c+="</li>"+(s?"":"</ol>"))}return c}var i=this;return this.qa.click=function(e){var t,i,a,s,o="LABEL"===e.target.tagName?e.target:e.target.closest("label"),n="true"===o.getAttribute("data-active");if(n){for(e.preventDefault(),i=o.parentNode.querySelectorAll("[data-active]"),a=0;a<i.length;a+=1)i[a].removeAttribute("data-active");for(i=o.parentNode.querySelectorAll("input:checked"),a=0;a<i.length;a+=1)i[a].checked=!1}else o.setAttribute("data-active","true");for(i=o.parentNode.parentNode.children,a=0;a<i.length;a+=1)if(n||i[a]!==o.parentNode)for(t=i[a].querySelectorAll("label"),s=0;s<t.length;s+=1)n?t[s].removeAttribute("disabled"):t[s].setAttribute("disabled","");else o.removeAttribute("disabled")},this.qa.dialog=function(t,i,a,s){var o=s||t.target,n=e["final"][a],l="";return!s&&t&&this.click(t),o&&n&&(l+='<div class="dialog'+(s?" final":"")+'">   <div class=table>   <div class=cel>'+(s?"":"       <div class=close onclick=ui.academy.qa.reset(this) tabindex=0>"+ui.academy.iconClose+"</div>")+"       <h1 class=nowrap>"+n.title+"</h1>"+(s?"":"       <p>שימי לב, אחרי הורדה לא ניתן לשנות קטגוריה</p>")+"       <div><a class=button"+(s?' href="https://drive.google.com/uc?export=download&id='+n.value+'" rel=noopener target=_blank':" onclick=\"ui.academy.qa.final(this, '"+a+"')\"")+" tabindex=0>"+(s?"להוריד סרגל צבעים":"לקבל סרגל צבעים")+"</a></div>   </div>   </div></div>",s||(o=1===i?o.parentNode:o.parentNode.parentNode.parentNode,o.insertAdjacentHTML("afterbegin",l))),l},this.qa.reset=function(e){e&&e.parentNode.parentNode.parentNode.remove();var t,i=ui.d.querySelectorAll(".qa [disabled]");for(t=0;t<i.length;t+=1)i[t].removeAttribute("disabled");for(i=ui.d.querySelectorAll(".qa input:checked"),t=0;t<i.length;t+=1)i[t].checked=!1;for(i=ui.d.querySelectorAll(".qa [data-active]"),t=0;t<i.length;t+=1)i[t].removeAttribute("data-active")},this.qa["final"]=function(e,t){var i={email:ui.academy.session.email,token:ui.academy.session.token,data:{qa:t}},a=ui.d.querySelector(".qa .close");a&&a.remove(),ui.form.accessibility(!1,ui.d.querySelector(".qa"),!0),fetch(ui.academy.fetch+"/update",{method:"POST",redirect:"error",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){return!e.error&&e}).then(function(e){ui.academy.session=e,localStorage.session=JSON.stringify(e),ui.academy.refresh()})["catch"](function(){ui.academy.session.reportDate=new Date,ui.academy.session.reportData=i,e&&e.remove(),delete localStorage.session,alert("טעות במערכת, נסי שוב מאוחר יותר"),ui.academy.report("update",ui.academy.session),ui.academy.refresh()})},'<div class="form qa">    <h1>'+e.title.replace(/\n/g,"<br>")+"</h1>"+(this.session.task&&this.session.task.qa?this.qa.dialog(null,0,this.session.task.qa,!0):t(e,!1))+"</div>"},submit:function(e,t){"use strict";var i,a,s=e instanceof Event&&e,o=e&&e.target||e,n=this;if(s&&s.preventDefault(),ui.form.valid(ui.form.list("[data-required]",o))){switch(a=ui.hash("page"),i={email:ui.academy.session.email,token:ui.academy.session.token,data:{}},ui.form.accessibility(!1,o,!0,"sat"===a&&"label"),a){case"calculator":i.data[a]=function(){t=ui.form.deserialize(o);var e,i,s=t.A,l=t.B,r=t.C,c=t.D,d=8,u=function(e,t){return e===!1?!1:Math.abs((e||0)-(t||0))<=(d||0)};return u(s,l)&&u(s,r)&&u(s,c)&&u(l,r)&&u(l,c)&&u(r,c)?"square":u(s,l)&&(s>r&&!u(s,r)||l>r&&!u(l,r))?"hourglass":s>l&&!u(s,l)||c>l&&!u(c,l)?"invertedTriangle":l>s&&!u(s,l)?"triangle":u(s,l)&&(r>s&&!u(s,r)||r>l&&!u(l,r))?"rounded":(ui.form.accessibility(!0,o,!0),e=o.querySelector("button"),i=o.querySelector("[data-status]"),i&&(i.innerHTML="<b>"+n.data.session["body-shape"].pages[a].error.format('<a href="/contact#diy" target=_blank>',"</a>")+"</b>",i.classList.add("error")),void(e&&e.classList.add("error")))}();break;case"sat":i.data[a]=t,o.closest("[data-handler]").querySelector("[data-back]").remove()}i.data[a]&&fetch(ui.academy.fetch+"/update",{method:"POST",redirect:"error",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){return!e.error&&e}).then(function(e){ui.academy.session=e,localStorage.session=JSON.stringify(e),ui.academy.refresh()})["catch"](function(){ui.academy.session.reportDate=new Date,ui.academy.session.reportData=i,delete localStorage.session,alert("טעות במערכת, נסי שוב מאוחר יותר"),ui.academy.report("update",ui.academy.session),ui.academy.refresh()})}},calculator:function(e){"use strict";var t,i,a="";if(this.session.task&&this.session.task.calculator&&e["final"][this.session.task.calculator])a='<div class="dialog final">   <div class=table>   <div class=cel>       <h1>'+e.result.format(e["final"][this.session.task.calculator].title)+'</h1>       <div><a class=button href="https://docs.google.com/presentation/d/'+e["final"][this.session.task.calculator].value+'/export/pdf" rel=noopener target=_blank tabindex=0>'+e.download+"</a></div>   </div>   </div></div>";else{for(t=Object.keys(e.option),i=0;i<t.length;i+=1)a+='<li class=row>    <label class="column label" for='+t[i]+">"+e.option[t[i]]+"</label>    <div class=column><input id="+t[i]+" name="+t[i]+" type=number min=50 max=200 maxlength=3 data-required"+(i?"":" autofocus")+"></div></li>";a="<form onsubmit=ui.academy.submit(event) method=post novalidate>    <ul class=sheet>"+a+"</ul>    <div data-status><small><i>"+e.notice+"</i></small></div>    <button>"+e.button+"</button></form>"}return'<div class="form calculator">    <h1>'+e.title.replace(/\n/g,"<br>")+"</h1>"+a+"</div>"},sat:{ui:function(e){"use strict";var t,i,a,s,o,n,l,r=ui.academy,c="",d=0,u=[];return r.session.task&&r.session.task.sat&&r.session.task.sat.length?(t=function(){var e=[].concat.apply([],r.session.task.sat),t=e.map(function(e){return{count:1,name:e}}).reduce(function(e,t){return e[t.name]=(e[t.name]||0)+t.count,e},{}),i=Object.keys(t),a=Math.max.apply(null,i.map(function(e){return t[e]})),s=i.reduce(function(e,i){return t[i]===a&&e.push(i),e},[]);return s.length>2?["A"]:s}(),o=e.success.title.format(t.map(function(t){return e["final"][t]}).join(" ")),n=t.map(function(t){return'<a class=button href="'+e.success.value.format(e.success.link,e["final"][t])+'" rel=noopener target=_blank tabindex=0>'+e.success.result.format(e["final"][t])+"</a>"}).join(""),c='<div class="dialog final">   <div class=table>   <div class=cel>       <h1>'+o+"</h1>       <div>"+n+"</div>       <p>"+e.success.all.format('<a href="'+e.success.link+'" rel=noopener target=_blank>Pinterest</a>')+"</p>   </div>   </div></div>"):(i=function(e){var t,i,a=["Webkit","Moz","ms"],s=ui.d.documentElement.style;if(e){if(e=e.toLowerCase().replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}),e in s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=0;i<a.length;i+=1)if(t=a[i]+e,t in s)return t}return null},this.navigate=function(e){var t=ui.d.getElementById("slide");t&&(e?d+=1:d-=1,t.style[i("transform")]="translateX("+100*d+"%)")},this.check=function(e){var t,i=e.closest("[data-handler]"),a=i.querySelector("[data-next]"),s=i.querySelectorAll("input:not(:checked) ~ label"),o=ui.form.deserialize(i),n=Object.keys(o),l=n.length;for(u[d]=n,l?a.removeAttribute("disabled"):a.setAttribute("disabled",""),t=0;t<s.length;t+=1)l>1?s[t].setAttribute("disabled",""):s[t].removeAttribute("disabled")},this.done=function(e){r.submit(e.closest("[data-handler]"),u)},a=function(e,t){var i=r.uniqueID();return"<li>    <input name="+e+" id="+i+' onclick=ui.academy.sat.check(this) type=checkbox>    <label class="column label wrap" for='+i+">"+ui.academy.iconCheck+t+"</label></li>"},s=function(t,i,s){var o,n=Object.keys(t.option),l="";for(o=0;o<n.length;o+=1)l+=a(n[o],t.option[n[o]]);return"<li class=qa data-handler>    <h4 class=wrap>"+i+". "+t.title+"</h4>    <small class=wrap><i>"+e.limit+"</i></small>    <ol>"+l+"</ol>"+(i===s?"    <button class=next onclick=ui.academy.sat.done(this) data-next disabled>"+e.button+"</button>":"    <button class=next onclick=ui.academy.sat.navigate(true) data-next disabled>"+e.next+"</button>")+(i>1?"    <span class=back onclick=ui.academy.sat.navigate() data-back>"+e.back+"</span>":"")+"</li>"},l=function(e){var t,i=e.option,a="";for(t=0;t<i.length;t+=1)a+=s(i[t],t+1,i.length);return a},c='<form onsubmit=event.preventDefault() method=post novalidate>    <ul class="sheet wrapper" id=slide>'+l(e)+"</ul></form>"),'<div class="form sat">    <h1>'+e.title.replace(/\n/g,"<br>")+"</h1>"+c+"</div>"}},pageSession:function(){"use strict";var e,t,i=ui.hash(),a="";if(this.valid&&this.content)if(this.self=i.session?this.data.session[i.session]:-1===location.href.indexOf("#")||!location.hash&&!history.replaceState?this.data.init:null,!this.self||i.session&&this.sidenav&&!this.sidenav.querySelector('[data-session="'+i.session+'"]:not([data-page])'))delete this.self,this.refresh(!0);else if(t=this.self.page||this.self.pages,this.bar&&this.bar.checked&&(this.bar.checked=!1),t)if(i.session&&!i.page){a+="<ol class=items dir=ltr>";for(e in t)t.hasOwnProperty(e)&&(a+="    <li>"+this.list(t[e],i.session,e)+"</li>");a+="</ol>",this.content.innerHTML=a,ui.comment&&ui.comment.remove()}else if(t=i.session?t&&t[i.page]:t){switch(t.type){case"video":a+="<div class=video>"+(ui.video.youtubeSupport?'<iframe src="https://www.youtube.com/embed/'+t.value+'?showinfo=0" allowfullscreen></iframe>':ui.video.template(t.value))+"</div><div class=space><h1>"+t.title+"</h1></div>";break;case"document":a+='<div class=video>    <iframe src="https://drive.google.com/file/d/'+t.value+'/preview" allowfullscreen></iframe></div><div class=space>    <h1>'+t.title+'</h1>    <a class=button href="'+(t.download?t.download.format(t.value):"https://drive.google.com/uc?export=download&id="+t.value)+'" rel=noopener target=_blank download="'+t.title+'.pdf" tabindex=0><b>להוריד '+t.title+"</a></div>";break;case"calculator":case"sat":case"qa":a+=this[t.type].ui?this[t.type].ui(t):this[t.type](t)}this.content.innerHTML=a,this.self=t,"video"===t.type&&ui.video.applyPlyr(),ui.comment&&ui.comment.load(this.content)}},toggleNavClassName:function(e){"use strict";var t,i,a=ui.hash(),s={session:this.sidenav&&this.sidenav.querySelector(".expand"),active:this.sidenav&&this.sidenav.querySelector(".active"),page:this.sidenav&&this.sidenav.querySelector(".selected")};a.previous={session:this.dataset(s.session,"session"),page:this.dataset(s.page||s.active,"page")},t=function(t,o,n){(n||a.previous[t]!==a[t])&&(s[t]&&(s[t].classList.remove(o),ui.d.activeElement===s[t]&&s[t].blur()),i||(i=!0),e&&e.classList.add(o))},t("session","expand"),t("page","selected",!!i),t("active","active",!!i)},toggleNav:function(e){"use strict";this.hash=ui.hash();var t,i=this.hash.session,a=this.hash.page,s=location.hash?this.data.session[i]:this.data.init;this.sidenav&&(s&&(this.toggleNavClassName(this.sidenav.querySelector(location.hash?'[data-session="'+i+'"]:not([data-page])':"a")),s.pages&&s.pages[a]&&this.toggleNavClassName(this.sidenav.querySelector('[data-session="'+i+'"][data-page="'+a+'"]'))),e&&!location.hash&&(t=this.sidenav.querySelectorAll("[data-session]:not([data-page])"),this.toggleNavClassName(t[t.length-1]))),this.pageSession()},init:function(){"use strict";var e,t=this;if(location.search){if(e=location.search.length>location.hash.length?ui.serialize(ui.hash({hash:location.search})):location.hash.replace(/^#/,""),!history.replaceState)return void(ui.w.location=location.pathname+"#"+e);history.replaceState("",ui.d.title,location.pathname+"#"+e)}ui.legacy(function(){var e=ui.d.getElementById("loading");t.valid=!!t.session.email&&!!t.session.token,t.content=ui.d.getElementById("content"),t.details=ui.d.getElementById("details"),t.bar=ui.d.getElementById("bar"),e&&e.remove(),t.content.removeAttribute("hidden"),t.valid?(t.isLogged(),ui.identify.all()):(ui.form.el=ui.d.getElementById("form"),t.button=ui.d.getElementById("button"),t.email=ui.d.getElementById("email"),t.pass=ui.d.getElementById("pass"),t.link=ui.d.getElementById("link"),t.details.removeAttribute("hidden")),ui.w.onhashchange=ui.w.onhashchange||function(){t.toggleNav()}})}},ui.academy.init();