ui.academy={data:{interval:7,init:{title:"ברוכה הבאה לקורס סטייל שבא מבפנים",shortTitle:"ברוכה הבאה",video:"yCsI9dSOvK0"},session:{colours:{title:"הצבע הזה הוא אני",video:"6fuubXrOQ6c",pages:{"color-plates":{type:"video",title:"סרטון: לוחות צבעים",value:"_dohRGGGLmQ"},qa:{type:"qa",title:"מחשבון: צבעים",value:"academy-colours.jpg",option:[{title:"האם צבע השיער שלך שחור או חום כהה?",option:[{title:"העיניים שלך מבריקות, בולטות, בצבע ירוק כהה, ירוק זית? האם יש קונטראסט בין הלבן בעיניים לבין האישון?",final:"clear"},{title:"העיניים שלך בצבע חום כהה?",final:"deep"},{title:"העיניים שלך בהירות, בצבע כחול, ירוק בהיר או אפור בהיר?",final:"bright"}]},{title:"האם צבע השיער שלך בלונד בהיר, אפור בהיר, חום בהיר?",option:[{title:"העיניים שלך בהירות בצבעים כחול, אפור או ירוק בהיר?",final:"bright"},{title:"העיניים שלך בצבע חום בהיר, מתמזגות עם צבע השיער?",final:"mixed"}]},{title:"האם צבע השיער שלך חום בינוני או עכברי, אפור בינוני, בלונד אפורי, בלונד כהה?",option:[{title:"העיניים שלך בהירות בצבעים כחול בהיר, אפור או ירוק בהיר?",final:"bright"},{title:"העיניים שלך חום בהיר, מתמזג עם צבע השיער?",final:"mixed"}]},{title:"האם צבע השיער שלך ג'ינג'י, דבש, ערמוני, והעיניים שלך ירוק חם כהה, חום ירקרק, חום דבש, כחול ירוק?",final:"warm"},{title:"האם צבע השיער שלך חום אפרפר (עכברי), בלונדי-אפרורי, כסוף, שיבה אפור, והצבע העיניים שלך כחול או חום או ירקרק?",final:"cold"}],final:{clear:{title:"את צלולה",value:"1RBWFZEoSG2IBhZWX74-bFerykqF1sJns"},deep:{title:"את עמוקה",value:"1dB3YO4ph2X6G-5ljir0RLUUQn3l7tkTZ"},bright:{title:"את בהירה",value:"1F1juuLT-pHxU4FVlLEFXamQKesNd3AzO"},mixed:{title:"את מעורבת",value:"1bmSwDG6GGggZTUuNjDHxZNMSlwYa8SuW"},warm:{title:"את חמה",value:"1lml4F6bRh9yiz47x-t7Xs5sWjlo1mE9i"},cold:{title:"את קרה",value:"1OOitln7OtHB7qvUqvhvkHI7XnmLLwPUR"}}}}},"body-shape":{title:"כמה טוב להיות את!",video:"xZMfS-HXqXM",pages:{bodyType:{type:"bodyType",title:"מחשבון: מבנה הגוף",value:"1gKI_JUyD20fvq27_B3Kxq9vfJ6f99xLnnd1ht1vibhU",button:"הצג תוצאה",notice:"שימי לב, חישוב ניתן רק לפעם אחת",result:"את בעלת מבנה גוף {0}",download:"להורדת מדריך הגיזרות",error:"שגיאה בחישוב, {0}נא לפנות ללאה{1}",option:{height:"הגובה",shoulders:"היקף הכתפיים",bust:"היקף החזה",waist:"היקף המותניים",hips:"היקף הירכיים"},final:{hourglass:{title:"שעון חול",value:"1r5TBnSpeNRjTmwIaoKkiiqBBzNhESmdj",text:["מכיוון שהמבנה שלך הוא מאוזן, כל גזרה תחמיא לך.","עלייך להדגיש את קו המותן שלך – כדי לשמור על הפרופורציות הטבעיות והיפות שלך.","בנוסף הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","את בעלת מבנה גוף רזה – בדים מחויטים יחמיאו לך."]},hourglassrounded:{title:"שעון חול מעוגל",value:"1r5TBnSpeNRjTmwIaoKkiiqBBzNhESmdj",text:["מכיוון שהמבנה שלך הוא מאוזן, כל גזרה תחמיא לך.","עלייך להדגיש את קו המותן שלך – כדי לשמור על הפרופורציות הטבעיות והיפות שלך.","בנוסף הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","את בעלת מבנה גוף מתעגל – בדים רכים ונשפכים יחמיאו לך במיוחד."]},invertedtriangle:{title:"משולש הפוך",value:"1_ekRaH2x8iP4jYovBSpVZuNUquO_WiJI",text:["עלייך להדגיש את קו המותן שלך – כדי לחלק את הגוף לפרופורציות הנכונות ⅓ ו2/3. הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","כדי ליצור מראה מאוזן של שעון חול – לבשי פריטים היוצרים קווי אורך בפלג הגוף העליון, כמו עליונית פתוחה או שרשרת ארוכה.","לאיזון, צרי נפח בפלג גוף התחתון שלך.","את בעלת מבנה גוף רזה – בדים מחויטים יחמיאו לך.","שימי לב שהתפר המחבר בין השרוול לכתף ממוקם בדיוק בעצם הכתף."]},invertedtrianglerounded:{title:"משולש הפוך מעוגל",value:"1_ekRaH2x8iP4jYovBSpVZuNUquO_WiJI",text:["עלייך להדגיש את קו המותן שלך – כדי לחלק את הגוף לפרופורציות הנכונות ⅓ ו2/3. הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","כדי ליצור מראה מאוזן של שעון חול – לבשי פריטים היוצרים קווי אורך בפלג הגוף העליון, כמו עליונית פתוחה או שרשרת ארוכה.","לאיזון, צרי נפח בפלג גוף התחתון שלך","את בעלת מבנה גוף מתעגל – בדים רכים ונשפכים יחמיאו לך במיוחד.","שימי לב שהתפר המחבר בין השרוול לכתף ממוקם בדיוק בעצם הכתף."]},rectangle:{title:"ישר",value:"1hRie1lANjULGnlUDrnUVPYjCxrD4n6Ws",text:["עלייך להדגיש את קו המותן שלך – כדי לחלק את הגוף לפרופורציות הנכונות ⅓ ו2/3. הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","לבשי פריטים בעלי נפח בכתפיים – כדי לייצר מראה גוף מאוזן של שעון חול.","פריטים המרחיבים את הירכיים יוסיפו לאיזון.","את בעלת מבנה גוף רזה וישר – בדים מחויטים יחמיאו לך."]},rectanglerounded:{title:"ישר מעוגל",value:"1hRie1lANjULGnlUDrnUVPYjCxrD4n6Ws",text:["עלייך להדגיש את קו המותן שלך – כדי לחלק את הגוף לפרופורציות הנכונות ⅓ ו2/3. הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","לבשי פריטים בעלי נפח בכתפיים – כדי לייצר מראה גוף מאוזן של שעון חול.","פריטים המרחיבים את הירכיים יוסיפו לאיזון.","את בעלת מבנה גוף מתעגל – בדים רכים ונשפכים יחמיאו לך במיוחד."]},round:{title:"מעוגל",value:"1JWcPbgHI6uQRGVpr82zg5l79yDYYp39P",text:["עלייך להדגיש את קו המותן שלך – כדי לחלק את הגוף לפרופורציות הנכונות ⅓ ו2/3. הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","כדי ליצור מראה מאוזן של שעון חול – לבשי פריטים היוצרים קווי אורך בפלג הגוף העליון, כמו עליונית פתוחה או שרשרת ארוכה.","לאיזון, תדגישי את פלג הגוף התחתון שלך.","את בעלת מבנה גוף מתעגל – בדים רכים ונשפכים יחמיאו לך במיוחד.","שימי לב שהתפר המחבר בין השרוול לכתף ממוקם בדיוק בעצם הכתף."]},triangle:{title:"משולש",value:"1ZFVcrckN8LhfZ8Gp9K7N1OUAn-BicVhD",text:["עלייך להדגיש את קו המותן שלך – כדי לחלק את הגוף לפרופורציות הנכונות ⅓ ו2/3. הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","לבשי פריטים בעלי נפח בכתפיים – כדי לייצר מראה גוף מאוזן של שעון חול.","בחרי בגדים שלא ייצמדו לירכיים, כדי לא להדגיש את פלג הגוף הרחב שלך.","את בעלת מבנה גוף רזה וישר – בדים מחויטים יחמיאו לך."]},trianglerounded:{title:"משולש מעוגל",value:"1ZFVcrckN8LhfZ8Gp9K7N1OUAn-BicVhD",text:["עלייך להדגיש את קו המותן שלך – כדי לחלק את הגוף לפרופורציות הנכונות ⅓ ו2/3. הדגשת מותן יוצרת אשליה של גוף צר וארוך יותר.","לבשי פריטים בעלי נפח בכתפיים – כדי לייצר מראה גוף מאוזן של שעון חול.","בחרי בגדים שלא ייצמדו לירכיים, כדי לא להדגיש את פלג הגוף הרחב שלך.","את בעלת מבנה גוף מתעגל – בדים רכים ונשפכים יחמיאו לך במיוחד."]}}}}},style:{title:"על טעם, ריח, ואופי",video:"06Q_GGX5KLQ",pages:{sat:{type:"sat",title:"מחשבון: סגנון הלבוש",next:"המשך",back:"חזור",button:"הצג תוצאה",limit:"סמני מקסימום שתי תשובות",value:"academy-style.jpg",option:[{title:"כיצד את בוחרת את צבעי הבגדים שלך?",option:{A:"בהתאם למצב רוח שלי באותו יום",B:"צבעים חזקים וקונטרסטים",C:"צבעי פסטל",D:"פריטי לבוש המתאימים מבחינת הצבעים, הבדים או הדוגמאות",E:"בשילובי צבעים ניטרליים ופשוטים או בצבעי אדמה"}},{title:"כיצד תגדירי את סגנון הקניות שלך?",option:{A:"אוהבת לקנות בשווקים, יד שניה ובמבצעים",B:"קונה בלי לחשוב פעמיים כל דבר שמוצא חן בעיני",C:"הקניות עושות אותי שמחה ואני נהנת, אני יוצאת לקניות כשאני רוצה לשפר מצב רוח שלי",D:"הקניות שלי מתוכננות ונעשות על פי רשימה מוכנה מראש, משקיעה בפריטים איכותיים וקלאסיים שתמיד באופנה",E:"קונה בהתאם לצורך או לקראת אירועים מיוחדים. לא מוכנה לוותר על נוחות, במקרה הצורך אלך לתופרת"}},{title:"כיצד היית מגדירה את הופעתך באופן כללי?",option:{A:"בעלת סגנון ייחודי המשלב פריטים שונים ויוצאי דופן",B:"בעלת אמירה אופנתית ופריטים המושכים תשומת לב",C:"אוהבת בגדים עם קישוטים עדינים הגורמים לי להרגיש נשית",D:"נקי ואלגנטי",E:"אוהבת בגדים נוחים"}},{title:"איזה מהפריטים בארון שלך משמשים אותך לעבודה?",option:{A:"פריטי לבוש אקראיים שאני מערבבת ביניהם לפי טעמי האישי",B:"פריטים יוצאי דופן שתופסים את העין",C:"חולצות יפות ועליוניות שאני משלבת עם חצאיות",D:"פריטים בסיסיים הניתנים לשדרוג עם אביזרים, פריטים מחויטים",E:"פריטי לבוש יום יומיים, כמו מכנסי ג'ינס וחולצה פשוטים"}},{title:"איזה מהפריטים בארון שלך משמשים אותך לשעות הפנאי?",option:{A:"אוסף פריטי לבוש בסגנון רטרו או וינטאג'",B:"הפריטים האופנתיים שנרכשו לאחרונה",C:"פריטים יפים ונשיים, עם תחרות",D:"פריטים בעלי סגנון פשוט שלהם אני מוספיה אביזרים",E:"בגדים נוחים ואיכותיים, מכותנה או פשתן, טוניקות"}},{title:"איזה מהפריטים בארון שלך שמורים לאירועים מיוחדים?",option:{A:"שילבו בדים מיוחדים או גזרות מעניינות",B:"פריטים מיוחדים וגרנדיוזיים המושכים תשומת הלב",C:"שמלות נשיות וקלילות ומקושטות ועשויים מבדים קלילים",D:"חליפה אלגנטית ומחויטת או שמלה קלאסית וסולידית בשילוב תכשיטים אופנתיים",E:"חצאית אלגנטית ארוכה ונוחה או מכנסיים בשילוב עם חולצה נוחה וחגיגית או טוניקה"}},{title:"כיצד תתארי את הנעליים שלך?",option:{A:"לאו דווקא מתאימות ללבוש שלי אבל מיוחדות",B:"לרוב בעלות עקבים",C:"יפות עם סרטים או קישוטים",D:"קלאסיות, מתאימות להרבה בגדים",E:"נוחות ושטוחות"}},{title:"איזה סוג תכשיטים את אוהבת?",option:{A:"לא שגרתיים, ממש פריטי אספנות",B:"גדולים ובעלי אמירה אישית",C:"מורכבים ועשירים מאוד בפריטים, עם סלסולים ופרחים",D:"בעלי קו מעודן וקלאסי, עשויים מזהב או כסף",E:"עשויים בדרך כלל מחומרים טבעים"}},{title:"מהו יחסך לנושא האיפור?",option:{A:"אוהבת להתנסות בדברים חדשים ומתחדשים כל הזמן",B:"אוהבת אותו מודגש וקצת מוגזם",C:"אוהבת ומשקיעה בו זמן רב",D:"לא מחדשת, דבקה בהרגלים שלי, אבל חשוב ומשלים את ההופעה שלי",E:"מינימליסטי, אם בכלל"}},{title:"מהו סגנון כיסוי ראש / שיער שלך?",option:{A:"משתנה בהתאם למצב הרוח שלי",B:"משתנה בקביעות, משתנה בצבעוניות",C:"אוהבת להוציא שיער בצדדים. שיער ארוך",D:"מעודן ומשתלב עם הלבוש שלי",E:"דורש תחזוקה מינימלית"}},{title:"כשאת בוחרת חולצה מודפסת היא תהיה____?",option:{A:"הדפס בסגנון חדש, שאין לי בארון",B:"הדפס דומיננטי",C:"עדין עם נקודות או פרחים קטנים",D:"בדרך כלל קונה פריטים ללא הדפס",E:"אוהבת חלק וגם אוהבת הדפס אתני"}},{title:"באיזה סגנון את רואה את עצמך מתלבשת?",limit:"סמני תשובה אחת",showImage:!0,condition:function(e){"use strict";var t,i,a=ui.academy.data.session.style.pages.sat.final,s=this.id&&ui.d.getElementById(this.id);if(e={C:["C","F"],E:["E","G"],CD:["C","D"]}[JSON.stringify(e).replace(/[[,\]"]/g,"")],this.option={},Array.isArray(e))for(i=0;i<e.length;i+=1)this.option[e[i]]=a[e[i]];return t=!!Object.keys(this.option).length,s&&t&&this.callback&&(s.innerHTML=this.callback.apply(null,this.params).replace(/^<li\b[^>]*>|<\/li>$/g,"")),t}}],success:{title:"הסגנון שלך הוא {0}",button:"להורדת חוברת הסגנון"},final:{A:{title:"יצירתי",value:"1dl0GD7_hE4HgAwybk9wSbn_bke47V0cZ"},B:{title:"דרמטי",value:"1c4WdteW3cNCkpHWzHKmCPRtJsZvT_hKI"},C:{title:"רומנטי",value:"1MHFG3yneMT4H0FJOAVi_pqNlpjMQG7F7"},D:{title:"קלאסי",value:"1nWiD5zvvmDDsuaL_cMGvkBsWow0FuYPl"},E:{title:"טבעי",value:"1d8t_zlmBV8A6x8zVmdgG-YnQVm4JgoQd"},F:{title:"בוהומייני",value:"1uoqQj_hfra3Vp7ovrdQwVBgI2ga21HRR"},G:{title:"קז'ואל",value:"1Zxt08RVGwgyvCFBxt6v-U7pnuEWNx-g-"}}}}},"magic-closet":{title:"ארון הקסמים",video:"GLQhGx2ULRo",download:{title:"להורדת חוברת ארון הקסמים",value:"1Ee5Zh92agzw6qkRsKE40t4zpwiw-DQTg"}},"modular-outfit":{title:"יש לך מה ללבוש",video:"_VYx-UC-VqU",download:{title:"להורדת חוברת מערכת פריטי הבסיס",value:"1kTlj1ZOXh8YQQyJCRuwBoShIfGKkUpLp"}},accessories:{title:"התוספת שתופסת",video:"fOYZbRKMYAE",pages:{"covers-shoes":{type:"video",title:"סרטון: מטפחות ונעליים",value:"JWTBhFri44w",download:{title:"להורדת חוברת האקססוריז",value:"1wPOeaV2Y1xKnOsoOR1VevgU-g0L95cGO"}},"match-headcover":{type:"video",title:"בונוס: התאמה למבני הפנים",value:"XW4S6zGtGic"}}},lingerie:{title:"יסודות למראה חטוב",video:"qk0-_Dnf3Z4",pages:{material:{type:"video",title:"סרטון: צבע, בד וגזרה בהלבשה תחתונה",value:"IpwM9HEeup4",download:{title:"להורדת חוברת הלבשה התחתונה",value:"1E8QTzqkLoWk23ht-BUCHt77QRoYCOuhc"}}}}}},hash:{},getIcon:function(e){"use strict";return"<svg class=icon-"+e+"><use xlink:href=#"+e+" /></svg>"},generateDownloadLink:function(e,t){"use strict";return'<a class=button href="https://drive.google.com/uc?export=download&id='+e+'" rel=noopener target=_blank tabindex=0>'+this.getIcon("download")+t+"</a>"},formatDate:function(e){"use strict";return("0"+e).slice(-2)},session:function(){"use strict";function t(t,e){var i={};try{i=JSON.parse(localStorage[t])}catch(e){delete localStorage[t]}return"function"==typeof e?e(i):i}return t("session",function(e){return e.email&&e.token?e:t("user",function(e){return e.email&&e.token&&(localStorage.session=localStorage.user,delete localStorage.user,ui.setUser(e)),e})})}(),endpoint:function(){"use strict";for(var e=location.hostname.split(".");2<e.length;)e.shift();return"https://lab."+e.join(".")+"/webhook"}(),dataset:function(e,t){"use strict";if(e&&1===e.nodeType)return e.dataset?e.dataset[t]:e.getAttribute("data-"+t)},select:function(e,t){"use strict";if(e){var i={session:this.dataset(e,"session"),page:this.dataset(e,"page")};this.hash.session===i.session&&this.hash.page===i.page?e.classList.add("expand"):(i=ui.serialize(i),!t&&i?(location.hash=i,ui.d.body.scrollTop=0):(i||!location.hash)&&this.data.session[ui.hash("session")]||(location.hash="",history.replaceState&&history.replaceState("",ui.d.title,location.pathname)))}},refresh:function(e){"use strict";e?ui.w.location=location.pathname:location.reload()},login:function(e){"use strict";e.preventDefault(),ui.form.accessibility(!1,null,!0);var t=this;fetch(t.endpoint+"/login",{method:"POST",redirect:"error",body:JSON.stringify({email:t.email.value.toLowerCase(),pass:t.pass.value})}).then(function(e){return e.json()}).then(function(e){t.updateSession(e),t.pushSW({status:"login"}),ui.setUser(e),ui.form.accessibility(!0,null,!0),e.email&&e.token?t.refresh():t.button&&(t.button.classList.add("error"),t.button.innerHTML="הפרטים שגויים, נסי שוב")}).catch(function(){ui.form.accessibility(!0,null,!0),t.button&&(t.button.classList.add("error"),t.button.innerHTML="טעות במערכת, נסי שוב מאוחר יותר")})},forgot:function(){"use strict";ui.form.el.setAttribute("onsubmit","ui.academy.remind(event)"),this.email.focus(),this.pass.parentNode.remove(),this.button.innerHTML="שלח לי סיסמא",this.button.classList.remove("error"),this.link.innerHTML="לנסות להתחבר מחדש",this.link.setAttribute("onclick","ui.academy.refresh(true)")},remind:function(e){"use strict";e.preventDefault(),ui.form.accessibility(!1,null,!0);var t=this;fetch(t.endpoint+"/forgot",{method:"POST",redirect:"error",body:JSON.stringify({email:t.email.value.toLowerCase()})}).then(function(e){return e.json()}).then(function(e){ui.form.accessibility(!0,null,!0),e.success?ui.form.el.innerHTML="<h2>פרטי גישה נשלחו למייל שלך</h2><a onclick=ui.academy.refresh(true)>לנסות להתחבר</a>":(t.button.classList.add("error"),t.button.innerHTML="מייל לא רשום, נסי שוב")}).catch(function(){ui.form.accessibility(!0,null,!0),t.button&&(t.button.classList.add("error"),t.button.innerHTML="טעות במערכת, נסי שוב מאוחר יותר")})},logout:function(e){"use strict";delete localStorage.session,e||this.pushSW({status:"logout"}),this.refresh(!0)},date:function(e){"use strict";e=e||{},this.currentTime?this.firstSession&&delete this.firstSession:this.firstSession=!0,this.currentTime=!e.interval&&this.currentTime||new Date(this.data.startDate);var t=new Date(this.currentTime.setDate(this.currentTime.getDate()+(e.interval?e.interval*this.data.interval:this.firstSession?0:this.data.interval))+(e.interval?0:1e7));return t.setHours(0,0,0,0),{enabled:+t<=+new Date,format:e.format||this.formatDate(t.getDate())+"/"+this.formatDate(t.getMonth()+1)}},key:function(e){"use strict";e&&e.target&&13===(e.keyCode||e.which)&&(e.preventDefault(),e.target.click())},events:function(e,t){"use strict";return" onclick=ui.academy.select(this) onkeydown=ui.academy.key(event)"+(e?" data-session="+e:"")+(t?" data-page="+t:"")+" tabindex="+(t?-1:0)},isLogged:function(){"use strict";this.data.startDate=+new Date(1e3*(this.session.startDate||this.session.created)).setHours(0,0,0,0),ui.d.documentElement.classList.remove("stretch"),ui.d.documentElement.classList.add("logedin"),this.details.remove(),this.account=ui.d.getElementById("account"),this.account.outerHTML='<div class=profile>    <img src="https://gravatar.com/avatar/'+this.session.avatar+'?s=42&r=g&d=mm">    <div class="table center">        <div class=cel>'+(this.session.firstName?"            <div class=nowrap dir=auto>"+this.session.firstName+"</div>":"")+"            <small onclick=ui.academy.logout()>התנתקי</small>        </div>    </div></div>",delete this.details,delete this.account;var e,t,i,a,s=this.data.init,n=ui.hash("session"),o="";for(e in o+='<div class="column nav-container" id=sidenav role=navigation dir=ltr><div class=sidenav dir=rtl>    <a class=active'+this.events()+"><label>"+(s.shortTitle||s.title)+"</label></a></div>",o+="<ol class=sidenav dir=rtl>",s=this.data.session)if(Object.prototype.hasOwnProperty.call(s,e)&&(o+="    <li"+(e===n?" class=expand":"")+"><label"+((a=this.date(s[e].date)).enabled?this.events(e):" disabled")+"><time>"+a.format+"</time><div>"+s[e].title+"</div></label>",(t=s[e].pages)&&a.enabled)){for(i in o+="<ol>",t)Object.prototype.hasOwnProperty.call(t,i)&&(o+="    <li><a class=unselectable"+this.events(e,i)+">"+t[i].title.replace(/\n/g," ")+"</a>");o+="</ol>"}o+='</ol></div><div class="column content" id=content></div>',this.content.outerHTML="<div class=container>"+o+"</div>",this.content=ui.d.getElementById("content"),this.sidenav=ui.d.getElementById("sidenav"),this.toggleNav(!0)},uniqueID:function(){"use strict";return Math.random().toString(16).substr(2,8)},qa:function(r){"use strict";var l=this;return this.qa.click=function(e){var t,i,a,s,n="LABEL"===e.target.tagName?e.target:e.target.closest("label"),o="true"===n.getAttribute("data-active");if(o){for(e.preventDefault(),i=n.parentNode.querySelectorAll("[data-active]"),a=0;a<i.length;a+=1)i[a].removeAttribute("data-active");for(i=n.parentNode.querySelectorAll("input:checked"),a=0;a<i.length;a+=1)i[a].checked=!1}else n.setAttribute("data-active","true");for(i=n.parentNode.parentNode.children,a=0;a<i.length;a+=1)if(o||i[a]!==n.parentNode)for(t=i[a].querySelectorAll("label"),s=0;s<t.length;s+=1)o?t[s].removeAttribute("disabled"):t[s].setAttribute("disabled","");else n.removeAttribute("disabled")},this.qa.dialog=function(e,t,i,a){var s=a||e.target,n=r.final[i],o="";return!a&&e&&this.click(e),s&&n&&(o+='<div class="dialog'+(a?" final":"")+'">   <div class=table>   <div class=cel>'+(a?"":"       <div class=close onclick=ui.academy.qa.reset(this) tabindex=0>"+l.getIcon("close")+"</div>")+"       <h1 class=nowrap>"+n.title+"</h1>"+(a?"":"       <p>שימי לב, אחרי הורדה לא ניתן לשנות קטגוריה</p>")+"       <div>"+(a?l.generateDownloadLink(n.value,"להורדת סרגל הצבעים"):"<a class=button onclick=\"ui.academy.qa.final(this, '"+i+"')\" tabindex=0>לקבל סרגל צבעים</a>")+"</div>   </div>   </div></div>",a||(s=1===t?s.parentNode:s.parentNode.parentNode.parentNode).insertAdjacentHTML("afterbegin",o)),o},this.qa.reset=function(e){e&&e.parentNode.parentNode.parentNode.remove();var t,i=ui.d.querySelectorAll(".qa [disabled]");for(t=0;t<i.length;t+=1)i[t].removeAttribute("disabled");for(i=ui.d.querySelectorAll(".qa input:checked"),t=0;t<i.length;t+=1)i[t].checked=!1;for(i=ui.d.querySelectorAll(".qa [data-active]"),t=0;t<i.length;t+=1)i[t].removeAttribute("data-active")},this.qa.final=function(e,t){var i={email:l.session.email,token:l.session.token,data:{qa:t}},a=ui.d.querySelector(".qa .close");a&&a.remove(),ui.form.accessibility(!1,ui.d.querySelector(".qa"),!0),fetch(l.endpoint+"/update",{method:"POST",redirect:"error",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){return e.error?Promise.reject(e):e}).then(function(e){l.updateSession(e),l.refresh()}).catch(function(){e&&e.remove(),l.reportError("update",i)})},'<div class="form qa">    <h1>'+r.title.replace(/\n/g,"<br>")+"</h1>"+(this.session.task&&this.session.task.qa?this.qa.dialog(null,0,this.session.task.qa,!0):function e(t,i,a){var s,n,o=!1!==i,r="";if(i=i||0,o&&!a&&(i+=1),t){if(o&&(r+=(a?"":"<ol>")+"<li><input type=radio name="+i+((n=!!t.option&&l.uniqueID())?" id="+n:"")+"><label onclick="+(t.final?'"ui.academy.qa.dialog(event, '+i+", '"+t.final+"')\"":"ui.academy.qa.click(event) for="+n)+">"+l.getIcon("check")+t.title+"</label>"),Array.isArray(t.option)){for(s in i+=1,r+="<ol>",t.option)Object.prototype.hasOwnProperty.call(t.option,s)&&(r+=e(t.option[s],i,!0));r+="</ol>"}else t.option&&(r+=e(t.option,i));o&&(r+="</li>"+(a?"":"</ol>"))}return r}(r,!1))+"</div>"},submit:function(e,t){"use strict";var i,a,s=e instanceof Event&&e,n=e&&e.target||e,o=this;if(s&&s.preventDefault(),ui.form.valid(ui.form.list("[data-required]",n))){switch(a=ui.hash("page"),i={email:o.session.email,token:o.session.token,data:{}},ui.form.accessibility(!1,n,!0,"sat"===a&&"label"),a){case"bodyType":i.data[a]=ui.form.deserialize(n);break;case"sat":i.data[a]=t,n.closest("[data-handler]").querySelector("[data-back]").remove()}i.data[a]&&("update",fetch(o.endpoint+"/update",{method:"POST",redirect:"error",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){return e.error?Promise.reject(e):e}).then(function(e){o.updateSession(e),o.refresh()}).catch(function(){o.reportError("update",i)}))}},bodyType:function(i){"use strict";var e=this.submit.bodyType(this.session.task&&(this.session.task.bodyType||this.session.task.calculator)),a="",s={height:{min:145,max:280},default:{min:50,max:320}};return a=i.final[e]?'<div class="dialog final">   <div class=table>   <div class=cel>       <h1>'+i.result.format(i.final[e].title)+"</h1>       <ol>           <li>"+i.final[e].text.join("</li>\n<li>")+"</li>       </ol>       <div>"+this.generateDownloadLink(i.final[e].value,i.download)+"</div>   </div>   </div></div>":(Object.keys(i.option).forEach(function(e,t){a+='<li class=row>    <label class="column label" for='+e+">"+i.option[e]+"</label>    <div class=column><input id="+e+" name="+e+" type=number inputmode=numeric min="+(s[e]||s.default).min+" max="+(s[e]||s.default).max+" maxlength=3 dir=ltr data-required"+(t?"":" autofocus")+"></div></li>"}),"<form onsubmit=ui.academy.submit(event) method=post novalidate>    <ul class=sheet>"+a+"</ul>    <div data-status><small><i>"+i.notice+"</i></small></div>    <button>"+i.button+"</button></form>"),'<div class="form calculator">    <h1>'+i.title.replace(/\n/g,"<br>")+"</h1>"+a+"</div>"},sat:{ui:function(r){"use strict";var s,n,l,c,u=ui.academy,e="",d=0,h=[];return s=function(t){var i=[].concat.apply([],t).map(function(e){return"object"==typeof e&&e.final?{count:t.length+1,name:e.final}:{count:1,name:e}}).reduce(function(e,t){return e[t.name]=(e[t.name]||0)+t.count,e},{}),e=Object.keys(i),a=Math.max.apply(null,e.map(function(e){return i[e]})),s=e.reduce(function(e,t){return i[t]===a&&e.push(t),e},[]);if(2<s.length)return["A"];if(2===s.length)switch(JSON.stringify(s).replace(/[[,\]]/g,"")){case"AB":case"AC":case"AD":case"AE":return["A"];case"BC":case"BD":case"BE":return["B"];case"CE":return["F"];case"DE":return["G"]}return s},e=u.session.task&&u.session.task.sat&&u.session.task.sat.length?(s=s(u.session.task.sat),'<div class="dialog final">   <div class=table>   <div class=cel>       <h1>'+r.success.title.format(s.map(function(e){return r.final[e].title}).join(" "))+"</h1>       <div>"+s.map(function(e){return u.generateDownloadLink(r.final[e].value,r.success.button)}).join("")+"</div>   </div>   </div></div>"):(n=function(e){var t,i,a=["Webkit","Moz","ms"],s=ui.d.documentElement.style;if(e){if((e=e.toLowerCase().replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}))in s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=0;i<a.length;i+=1)if((t=a[i]+e)in s)return t}return null},this.navigate=function(e){if(e){var t=ui.d.getElementById("slide"),i=e.hasAttribute("data-next"),a=u.data.session.style.pages.sat.option;i?d<a.length-1&&(d+=1):(h[d]&&!Array.isArray(h[d])&&h.splice(d,1),d-=1),(a=a[Math.abs(d)])&&"function"!=typeof a.condition||a.condition(s(h))?t&&(t.style[n("transform")]="translateX("+100*d+"%)"):(d-=1,this.done(e))}},this.check=function(e){var t,i,a=e.closest("[data-handler]"),s=a.querySelector("[data-next]"),n=a.getAttribute("data-max"),o=ui.form.deserialize(a),r=Object.keys(o),l=r.length;n=n?Number(n)-1:1,t=function(e){for(i=0;i<e.length;i+=1)n<l?e[i].setAttribute("disabled",""):e[i].removeAttribute("disabled")},r.length?h[d]=0===n?{final:r[0]}:r:h[d]&&!Array.isArray(h[d])&&h.splice(d,1),l?s.removeAttribute("disabled"):s.setAttribute("disabled",""),t(ui.form.list("input:not(:checked)",a)),t(ui.form.list("input:not(:checked) ~ label",a))},this.done=function(e){u.submit(e.closest("[data-handler]"),h)},l=function(e,t,i){var a=u.uniqueID();return t="object"==typeof t?t.title:t,"<li"+(i?" class=box":"")+">    <input name="+e+" id="+a+" onclick=ui.academy.sat.check(this) type=checkbox>"+(i?"<figure><img class=absolute src=/assets/academy-style-"+e.toLowerCase()+'.jpg alt="'+t+'"></figure>':"")+'    <label class="column label wrap" for='+a+">"+ui.academy.getIcon("check")+t+"</label></li>"},c=function(e,t,i){var a,s=Object.keys(e.option||{}),n="",o="";for(a=0;a<s.length;a+=1)n+=l(s[a],e.option[s[a]],e.showImage);return Object.prototype.hasOwnProperty.call(e,"option")||(e.callback=c,e.params=arguments,e.id=u.uniqueID(),o=" id="+e.id+" data-max=1"),"<li class=qa"+o+" data-handler>    <h4 class=wrap>"+t+". "+e.title+"</h4>    <small class=wrap><i>"+(e.limit||r.limit)+"</i></small>    <ol"+(e.showImage?" class=grid":"")+">"+n+"</ol>"+(t===i?"    <button class=next onclick=ui.academy.sat.done(this) data-next disabled>"+r.button+"</button>":"    <button class=next onclick=ui.academy.sat.navigate(this) data-next disabled>"+r.next+"</button>")+(1<t?'    <span class="back unselectable" onclick=ui.academy.sat.navigate(this) data-back>'+r.back+"</span>":"")+"</li>"},'<form onsubmit=event.preventDefault() method=post novalidate>    <ul class="sheet wrapper" id=slide>'+function(e){var t,i=e.option,a="";for(t=0;t<i.length;t+=1)a+=c(i[t],t+1,i.length);return a}(r)+"</ul></form>"),'<div class="form sat">    <h1>'+r.title.replace(/\n/g,"<br>")+"</h1>"+e+"</div>"}},videoTemplate:function(e){"use strict";var t,i=e.value||e.video,a="";if(e.pages)for(t in e.pages)Object.prototype.hasOwnProperty.call(e.pages,t)&&(a+='<a class=button href="#session='+ui.hash("session")+"&page="+t+'" tabindex=0>'+e.pages[t].title+"</a> ");return e.download&&(a+=this.generateDownloadLink(e.download.value,e.download.title)),"<div class=video>"+(ui.video.youtubeSupport?'<iframe src="https://www.youtube.com/embed/'+i+'"  allow="autoplay; encrypted-media; fullscreen" allowfullscreen></iframe>':ui.video.template(i))+"</div><div class=space><h1>"+e.title+"</h1>"+a+"</div>"},pageSession:function(){"use strict";var e,t=ui.hash(),i="";if(this.valid&&this.content)if(this.self=t.session?this.data.session[t.session]:-1===location.href.indexOf("#")||!location.hash&&!history.replaceState?this.data.init:null,!this.self||t.session&&this.sidenav&&!this.sidenav.querySelector('[data-session="'+t.session+'"]:not([data-page])'))delete this.self,this.refresh(!0);else if(e=this.self,this.bar&&this.bar.checked&&(this.bar.checked=!1),e){if(!t.session||t.session&&!t.page)e.video&&(i+=this.videoTemplate(e)),"function"==typeof e.generateHTML&&(i+=e.generateHTML());else if((e=t.session?e&&e.pages&&e.pages[t.page]:e)&&e.type){switch(e.type){case"video":i+=this.videoTemplate(e);break;case"bodyType":case"sat":case"qa":i+=this[e.type].ui?this[e.type].ui(e):this[e.type](e)}this.self=e}this.content.innerHTML=i,e?(!e.video&&"video"!==e.type||ui.video.applyPlyr(),ui.comment&&ui.comment.load(this.content)):ui.comment&&ui.comment.remove()}},toggleNavClassName:function(a){"use strict";var e,s,n=ui.hash(),o={session:this.sidenav&&this.sidenav.querySelector(".expand"),active:this.sidenav&&this.sidenav.querySelector(".active"),page:this.sidenav&&this.sidenav.querySelector(".selected")};n.previous={session:this.dataset(o.session,"session"),page:this.dataset(o.page||o.active,"page")},(e=function(e,t,i){!i&&n.previous[e]===n[e]||(o[e]&&(o[e].classList.remove(t),o[e].nextElementSibling&&"OL"===o[e].nextElementSibling.tagName&&ui.form.list("a",o[e].nextElementSibling).forEach(function(e){e.tabIndex=-1}),ui.d.activeElement===o[e]&&o[e].blur()),s=s||!0,a&&(a.classList.add(t),a.nextElementSibling&&"OL"===a.nextElementSibling.tagName&&ui.form.list("a",a.nextElementSibling).forEach(function(e){e.tabIndex=0})))})("session","expand"),e("page","selected",!!s),e("active","active",!!s)},toggleNav:function(e){"use strict";var t,i,a=ui.academy;a.hash=ui.hash(),a.sidenav&&((t=location.hash?a.data.session[a.hash.session]:a.data.init)&&(a.toggleNavClassName(a.sidenav.querySelector(location.hash?'[data-session="'+a.hash.session+'"]:not([data-page])':"a")),t.pages&&t.pages[a.hash.page]&&a.toggleNavClassName(a.sidenav.querySelector('[data-session="'+a.hash.session+'"][data-page="'+a.hash.page+'"]'))),!0!==e||location.hash||(i=a.sidenav.querySelectorAll("[data-session]:not([data-page])"),a.toggleNavClassName(i[i.length-1]))),a.pageSession()},sessionError:function(){"use strict";if(sessionStorage.sessionError){var e=ui.d.getElementById("session-error");e&&(e.hidden=!1,e.innerHTML=sessionStorage.sessionError,delete sessionStorage.sessionError)}},reportError:function(e,t){"use strict";"prod"===ui.environment?"sendBeacon"in navigator&&navigator.sendBeacon(this.endpoint+"/error",JSON.stringify({schema:e,email:this.session.email,log:JSON.stringify(t,null,2)})):console.error(e,t),sessionStorage.sessionError="זהינו שלא פעלת בחשבונך בדקות האחורנות. אנה התחברי שוב.",delete localStorage.session,this.refresh()},updateSession:function(e,t){"use strict";"object"==typeof e&&(e.dataTime=e.dataTime||+new Date,t||this.pushSW({status:"update",data:e}),this.session=e,localStorage.session=JSON.stringify(e))},vertifySession:function(t,e){"use strict";if(!e&&this.session.startDate&&new Date-Number(this.session.dataTime)<864e5)"function"==typeof t&&t();else{var i=this,a="vertify",s={email:i.session.email,token:i.session.token};fetch(i.endpoint+"/"+a,{method:"POST",redirect:"error",body:JSON.stringify(s)}).then(function(e){return e.json()}).then(function(e){return e.error?Promise.reject(e):e}).then(function(e){i.updateSession(e),"function"==typeof t&&t()}).catch(function(){i.reportError(a,s)})}},pushSW:function(e,t){"use strict";if("object"==typeof e&&navigator.serviceWorker&&navigator.serviceWorker.controller)if("dev"===ui.environment&&console.log("ServiceWorker",e),t)switch(e.status){case"login":return location.reload();case"logout":return this.logout(!0);case"update":return this.updateSession(e.data,!0)}else navigator.serviceWorker.controller.postMessage(e)},registerSW:function(){"use strict";"https:"===location.protocol&&"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){navigator.serviceWorker.addEventListener("message",function(e){e.data&&ui.academy.pushSW(e.data,!0)})})},init:function(){"use strict";var t=this;ui.legacy(function(){var e=ui.d.getElementById("loading");ui.form.el=ui.d.getElementById("form"),t.bar=ui.d.getElementById("bar"),t.button=ui.d.getElementById("button"),t.content=ui.d.getElementById("content"),t.details=ui.d.getElementById("details"),t.email=ui.d.getElementById("email"),t.link=ui.d.getElementById("link"),t.pass=ui.d.getElementById("pass"),t.valid=!!t.session.email&&!!t.session.token,t.content.removeAttribute("hidden"),t.details.removeAttribute("hidden"),t.registerSW(),e&&e.remove(),t.valid?t.vertifySession(function(){t.isLogged(),ui.identify.all()}):t.session.email&&(t.email.value=t.session.email,setTimeout(function(){t.pass.focus()},0)),ui.w.addEventListener("hashchange",t.toggleNav),t.sessionError()})}},ui.academy.submit.bodyType=function(e){"use strict";if(!e)return e;if("string"==typeof e)switch(e){case"invertedTriangle":return"invertedtriangle";case"rounded":return"round";default:return e}var t=e.shoulders,i=e.bust,a=e.waist,s=e.hips,n=function(e,t,i){return t<=e&&e<=i},o=function(){var e=Array.prototype.slice.call(arguments).map(function(e){return Number(e)}),t=Math.min.apply(null,e),i=Math.max.apply(null,e),a=2===e.length&&e[0]<e[1]?-1:1;return Math.round((i-t)/i*100)*a},r=function(i,t){return Object.keys(i||{}).filter(function(e){return t?t(e,i):i[e]}).reduce(function(e,t){return e[t]=i[t],e},{})},l={minAll:Math.min(t,i,a,s),maxAll:Math.max(t,i,a,s),maxAB2D:o(Math.max(t,i),s)},c={round:5<o(a,Math.min(t,i,s))&&o(Math.max(t,i),Math.min(a,s))<11&&0<o(a,s)};return c.round||(c.hourglass=Math.abs(l.maxAB2D)<11&&o(i,s)<11&&Math.abs(l.maxAB2D)<11&&o(a,Math.round(Math.max(t,i,s)))<-29,c.invertedtriangle=10<o(Math.max(t,i),s),c.rectangle=Math.abs(l.maxAB2D)<11&&n(o(a,Math.max(t,i,s)),-29,5),c.rounded=100<l.maxAll,c.triangle=10<o(s,Math.max(t,i))),c.result=Object.keys(r(c,function(e){return"rounded"!==e})).filter(function(e){return c[e]}).join(""),c.rounded&&(c.result+="rounded"),c.result},ui.academy.init();