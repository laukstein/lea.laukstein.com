ui.discount={duration:7,passed:0,diff:function(){"use strict";try{var t,i,e,s=ui.hash("discount"),a=new Date;return s?(s=String(s).split("-"),i=new Date(1e3*s[0]),s[1]&&!isNaN(s[1])&&(this.passed=Number(s[1])),t=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),e=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),Math.abs(Math.floor((e-t)/864e5))):1/0}catch(r){return 1/0}},run:function(){"use strict";if(this.handler=this.handler||ui.d.querySelector("[data-discount]"),this.origin=this.origin||ui.d.querySelector("[data-origin]"),this.discount=this.handler&&this.handler.getAttribute("data-discount"),this.discount&&this.origin){var t=this.handler.getAttribute("data-duration"),i=this.origin.getAttribute("data-origin");t&&!isNaN(t)&&(this.duration=Number(t)),this.diff()<=this.duration-this.passed?(this.handler.classList.add("active"),this.origin.setAttribute("data-origin",this.origin.value),this.origin.value=this.discount):(this.handler.classList.remove("active"),i&&(this.origin.setAttribute("data-origin",""),this.origin.value=i))}},init:function(){"use strict";ui.w.addEventListener("hashchange",this.run),this.run()}},ui.discount.init();