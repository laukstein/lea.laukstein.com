ui.discount={duration:7,passed:0,hash:function(t){"use strict";var i,s,e=location.hash.slice(1).split("&"),n={};if(e.length)for(s=0;s<e.length;s+=1)i=e[s].split("="),i[0]&&(n[i[0]]=isNaN(i[1])?i[1]&&decodeURIComponent(i[1]):Number(i[1]));return t?n[t]:n},diff:function(){"use strict";try{var t,i,s,e=this.hash("discount"),n=new Date;return e?(e=String(e).split("-"),i=new Date(1e3*e[0]),e[1]&&!isNaN(e[1])&&(this.passed=Number(e[1])),t=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),s=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),Math.abs(Math.floor((s-t)/864e5))):1/0}catch(a){return 1/0}},run:function(){"use strict";if(this.handler=this.handler||ui.d.querySelector("[data-discount]"),this.origin=this.origin||ui.d.querySelector("[data-origin]"),this.discount=this.handler&&this.handler.getAttribute("data-discount"),this.discount&&this.origin){var t=this.handler.getAttribute("data-duration"),i=this.origin.getAttribute("data-origin");t&&!isNaN(t)&&(this.duration=Number(t)),this.diff()<=this.duration-this.passed?(this.handler.classList.add("active"),this.origin.setAttribute("data-origin",this.origin.value),this.origin.value=this.discount):(this.handler.classList.remove("active"),i&&(this.origin.setAttribute("data-origin",""),this.origin.value=i))}},init:function(){"use strict";window.onhashchange=window.onhashchange||function(){ui.discount.run()},this.run()}},ui.discount.init();