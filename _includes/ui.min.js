window.ui={w:window,d:document,environment:"lea.laukstein.com"===location.host?"prod":"dev",awaitCallback:[],has:{classList:"classList"in document.documentElement},asyncScript:function(e){"use strict";var t,i,n,o,a,s=this.d.createElement("script"),r="function"==typeof arguments[1]&&arguments[1],c=r?arguments[2]||{}:arguments[1]||{},u=JSON.parse(JSON.stringify(c));if(e){if(s.src=e,s.async=!0,delete u.remove,delete u.onStart,delete u.onSuccess,Object.keys(u).length)for(a in u)u.hasOwnProperty(a)&&s.setAttribute(a,u[a]);return"function"==typeof c.onStart&&c.onStart(s),r&&(c.onSuccess=r),(this.d.head||this.d.body).appendChild(s),c.onSuccess||c.onError?(i=function(e){e=e===!0?"addEventListener":"removeEventListener",s[e]("load",o),s[e]("error",n),s[e]("readystatechange",t),"removeEventListener"===e&&c.remove&&s.remove()},o=function(){i(!1),c.onSuccess&&c.onSuccess(s)},n=function(){i(!1),c.onError&&c.onError()},t=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||o()},i(!0)):c.remove&&s.remove(),s}return null},analytics:function(){"use strict";"prod"===this.environment?(this.asyncScript("https://www.google-analytics.com/analytics.js",{onSuccess:function(){window.ga&&(ga("create","UA-11883501-1","laukstein.com",{clientId:localStorage.gaClientId,storage:"none",userId:ui.identify.user.email}),localStorage.gaClientId||ga(function(e){localStorage.gaClientId=e.get("clientId")}),ga("send",{hitType:"pageview",title:ui.d.title,page:location.pathname}),ui.identify.ga())},remove:!0}),window.FS||this.asyncScript("https://www.fullstory.com/s/fs.js",{onStart:function(){window._fs_debug=!1,window._fs_host="www.fullstory.com",window._fs_org="3YG86",window._fs_namespace="FS";var e=window[window._fs_namespace||"FS"]=function(t,i){e.q?e.q.push([t,i]):e._api&&e._api(t,i)};e.q=[],e.setUserVars=function(t){e("user",t)},e.identify=function(t,i){e("user",{uid:t}),i&&e.setUserVars(i)},e.identifyAccount=function(t,i){o="account",i=i||{},i.acctId=t,e(o,i)},e.clearUserCookie=function(e,t,i){if(!e||ui.d.cookie.match("fs_uid=[`;`]*`[`;`]*`[`;`]*`"))for(t=n.domain;;){if(n.cookie="fs_uid=;domain="+t+";path=/;expires="+new Date(0).toUTCString(),i=t.indexOf("."),0>i)break;t=t.slice(i+1)}}},onSuccess:function(){ui.identify.fs()}}),this.asyncScript("https://connect.facebook.net/en_US/fbevents.js",{onStart:function(){var e;window.fbq||(e=window.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},window._fbq=window._fbq||e,e.push=e,e.loaded=!0,e.version="2.0",e.queue=[]),fbq("init","1265828396834846"),fbq("track","PageView")}}),this.asyncScript("https://cdn.ravenjs.com/3.25.1/raven.min.js",{integrity:"sha384-IOavmezF1gJveRy0z0TBrhTXPNlZmUOIFlePznGomd5y9vZTSgwOW8m0gjFCCi7t",crossorigin:"anonymous",onSuccess:function(){window.Raven&&Raven.config&&(Raven.config("https://1e8b57d9fb744a9ba1068e9b5cc5386c@sentry.io/156066",{environment:ui.environmen}).install(),ui.identify.raven())}})):this.identify.all()},identify:{all:function(){"use strict";var e,t=Object.keys(this),i=["all","user","track"];for(ui.getUser(),e=0;e<t.length;e+=1)-1===i.indexOf(t[e])&&"function"==typeof this[t[e]]&&this[t[e]]()},track:function(e){"use strict";e=e||{};var t,i=this,n=0,o=4;"prod"===ui.environment?(t=function(){n+=1,o>n&&(e.condition(i)?(e.callback(i),e.log(i)):setTimeout(t,1e3*(n-1)))})():i.user.email&&e.log(i)},fs:function(){"use strict";this.track({name:"FullStory",condition:function(e){return window.FS&&e.user.email},params:function(e){var t={};return t.email=e.user.email,e.user.fullName&&(t.displayName=e.user.fullName),e.user.phone&&(t.phone_str=e.user.phone),t},callback:function(e){FS.identify(e.user.email,this.params(e))},log:function(e){console.log("FullStory",e.user.email,this.params(e))}})},ga:function(){"use strict";this.track({name:"Google Analytics",condition:function(e){return window.ga&&e.user.email},callback:function(e){ga("set","userId",e.user.email)},log:function(e){console.log("Google Analytics",e.user.email)}})},raven:function(){"use strict";this.track({name:"Sentry",condition:function(e){return window.Raven&&Raven.setUserContext&&e.user.email},params:function(e){var t={};return t.email=e.user.email,e.user.fullName&&(t.username=e.user.fullName),t},callback:function(e){Raven.setUserContext(this.params(e))},log:function(e){console.log("Sentry",this.params(e))}})},user:{}},setUser:function(e){"use strict";var t,i,n={},o=[];try{return t=e&&(e.email||e.EMAIL),i=t!==this.identify.user.email,this.getUser(),t&&(i||(n=this.identify.user),n.date=+new Date,n.referrer=location.href,n.email=t,e.avatar&&(n.avatar=e.avatar),(e.tel||e.PHONE)&&(n.phone=e.tel||e.PHONE),(e.name||e.FNAME||e.firstName)&&(o.push(e.name||e.FNAME||e.firstName),n.firstName=e.name||e.FNAME||e.firstName),e.lastName&&(o.push(e.lastName),n.lastName=e.lastName),!o.length||n.fullName&&!e.lastName||(n.fullName=o.join(" ")),this.identify.user=n,localStorage.user=JSON.stringify(n),this.identify.all()),n}catch(a){return{}}},getUser:function(){"use strict";return this.identify.user=function(){try{return JSON.parse(localStorage.user)}catch(e){return{}}}(),this.identify.user.telephone&&(this.identify.user.phone=this.identify.user.telephone,delete this.identify.user.telephone,localStorage.user=JSON.stringify(this.identify.user)),this.identify.user},hash:function(e){"use strict";e="string"==typeof e?{param:e}:e||{},e.hash="string"==typeof e.hash?e.hash:location.hash;var t,i,n=e.hash.replace(/^\??#?!?/,"").split("&"),o={};if(n.length)for(i=0;i<n.length;i+=1)t=n[i].split("="),t[0]&&(o[t[0]]=isNaN(t[1])?t[1]&&decodeURIComponent(t[1]):Number(t[1]));return e.param?o[e.param]:o},serialize:function(e,t){"use strict";if("object"==typeof e){t=t||{};var i,n=Object.keys(e),o=[];for(i=0;i<n.length;i+=1)e[n[i]]?o.push(n[i]+"="+encodeURIComponent(e[n[i]])):t.setEmptyValue&&o.push(n[i]);return o.join("&")}return""},confirm:function(e){"use strict";var t,i;if(e&&"checkbox"===e.type)for(t=e.parentNode.parentNode.querySelectorAll("button, .button"),i=0;i<t.length;i+=1)e.checked?t[i].removeAttribute("disabled"):t[i].setAttribute("disabled","")},video:{playlistLink:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=UUNNsgimJtU1q1LUMVsq44Dg&maxResults=50&key=AIzaSyBt0-e3Ups6i4p8GQs811EarYbpMiPfxg4",playlistLocalLink:"/assets/playlistItems.json",getData:function(e){"use strict";var t,i=ui.videoLegacy&&ui.videoLegacy[e]||{},n={};for(t in i)i.hasOwnProperty(t)&&(n[t]="https://dl.dropboxusercontent.com/s/"+i[t]+"/"+e+("image"===t?".jpg":"-"+t+".mp4"));return n},size:function(){"use strict";if(sessionStorage.videoSize)return sessionStorage.videoSize;var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection,t="720p";if(e&&e.type)switch(e.type){case"none":case"2g":case"bluetooth":case"cellular":case"3g":t="360p"}else(navigator.maxTouchPoints>0||window.matchMedia&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window)&&(t="360p");return sessionStorage.videoSize=t,t}(),template:function(e){"use strict";var t=this.getData(e);return e?'<video poster="'+t.image+'" preload=auto controls controlsList=nodownload>    <source src="'+t[this.size]+'" type="video/mp4"></video>':""},applyPlyr:function(){"use strict";if(!this.youtubeSupport){var e=function(){plyr.setup&&plyr.setup({showPosterOnEnd:!0,iconUrl:"/assets/plyr.svg",blankUrl:"/assets/blank.mp4",volume:10}),delete ui.video.youtubeSupportProgress};ui.w.plyr?e():this.youtubeSupportProgress||(this.youtubeSupportProgress=!0,ui.asyncScript("/assets/plyr.js",e))}},youtubeSupport:function(e){"use strict";var t,i,n=ui.video,o=ui.d.querySelectorAll(".video iframe"),a={};return a.callback=function(){if(n.youtubeSupport=!1,ui.videoLegacy)sessionStorage["ui.videoLegacy"]=JSON.stringify(ui.videoLegacy);else try{ui.videoLegacy=JSON.parse(sessionStorage["ui.videoLegacy"])}catch(e){ui.videoLegacy={}}for(i=0;i<o.length;i+=1)o[i].outerHTML=n.template(o[i].src.replace(/^.*\/embed\//,"").replace(/\?.*$/,""));return ui.w.plyr||n.youtubeSupportProgress||(n.applyPlyr(),t=ui.d.createElement("link"),t.href="/assets/plyr.css",t.rel="stylesheet",ui.d.body.appendChild(t)),n.youtubeSupport},a.legacyCallback=function(){"function"==typeof e&&e()},sessionStorage["ui.videoLegacy"]&&"false"===sessionStorage.youtubeSupport?(a.legacyCallback(),a.callback()):(a.get=function(e,t,i){var n=new Image;n.onload=t,n.onerror=i,n.src=e},a.result=function(e){sessionStorage.youtubeSupport=!!e,!e&&n.youtubeSupport&&ui.asyncScript("/assets/ui-videoLegacy.js",this.callback)},a.error=function(e){e===!0&&a.legacy(!0),a.result(!1)},a.success=function(e){e.target.naturalWidth>1?(this.result(!0),n.youtubeSupport=!0):this.error()},a.legacy=function(t){var i=localStorage.videos;try{i=i&&JSON.parse(i)}catch(o){}i?t?this.legacyCallback():i.local?this.error(!0):(this.result(!0),this.legacyCallback()):(this.call=function(i,o){fetch(i).then(function(e){return e.json()}).then(function(t){return t.downloadTime=+new Date,localStorage.videos=JSON.stringify(t),"function"==typeof e&&e(),a.result(!o)})["catch"](function(){return/^https?:\/\/.*/.test(i)?a.call(n.playlistLocalLink,!0):!t&&a.error(!0)})},this.call(n.playlistLink))},a.get("https://www.youtube.com/favicon.ico",function(e){e.target.naturalWidth>1?a.legacy():a.error()},a.error),"checking")}},legacy:function(e){"use strict";var t=this;if("function"==typeof e&&t.awaitCallback.push(e),t.legacy.__once)return void(t.legacy.__loading||t.legacy.__runAwaitList());t.legacy.__once=!0,t.legacy.__loading=!0,t.legacy.__runAwaitList=function(){var e,i=t.awaitCallback.slice();for(t.legacy.__loading&&delete t.legacy.__loading,e=0;e<i.length;e+=1)t.awaitCallback.splice(0,1),i[e]&&"function"==typeof i[e]&&i[e]()};try{localStorage.localStorage="1",delete localStorage.localStorage}catch(i){ui.w.localStorage&&delete ui.w.localStorage,ui.w.sessionStorage&&delete ui.w.sessionStorage,ui.w.localStorage={},ui.w.sessionStorage={}}"undefined"==typeof console&&(this.w.console={log:function(){return arguments},error:function(){return arguments}}),String.prototype.format||Object.defineProperty(String.prototype,"format",{value:function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,i){return"undefined"==typeof e[i]?t:e[i]})}}),t.w.fetch&&t.w.Promise&&Element.prototype.closest?t.video.youtubeSupport(t.legacy.__runAwaitList):t.asyncScript("/assets/legacy.js",function(){t.video.youtubeSupport(t.legacy.__runAwaitList)})},init:function(){"use strict";var e=this;this.legacy(function(){e.getUser(),e.analytics();var t=e.d.getElementById("bar-close");t&&t.addEventListener("touchstart",t.click)})}},ui.init();