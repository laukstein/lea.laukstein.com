window.ui={w:window,d:document,environment:"lea.laukstein.com"===location.host?"production":"development",has:{classList:"classList"in document.documentElement,eventListener:!!document.addEventListener},asyncScript:function(t){"use strict";var e,n,i,o,r=this.d.createElement("script"),s="function"==typeof arguments[1]&&arguments[1],a=s?arguments[2]||{}:arguments[1]||{},c=JSON.parse(JSON.stringify(a));if(t){if(r.src=t,r.async=!0,delete c.remove,delete c.onStart,delete c.onSuccess,Object.keys(c).length)for(o in c)c.hasOwnProperty(o)&&r.setAttribute(o,c[o]);return"function"==typeof a.onStart&&a.onStart(r),s&&(a.onSuccess=s),(this.d.head||this.d.body).appendChild(r),a.onSuccess?(n=function(t){t=t===!0?"addEventListener":"removeEventListener",r[t]("load",i),r[t]("error",n),r[t]("readystatechange",e)},i=function(){n(),a.onSuccess(r),a.remove&&r.remove()},e=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||i()},n(!0)):a.remove&&r.remove(),r}return null},analytics:function(){"use strict";"production"===this.environment&&(this.asyncScript("https://www.google-analytics.com/analytics.js",{onSuccess:function(){window.ga&&(ga("create","UA-11883501-1","laukstein.com",{clientId:localStorage.gaClientId,storage:"none"}),localStorage.gaClientId||ga(function(t){localStorage.gaClientId=t.get("clientId")}),ga("send","pageview"),ui.identify.ga())},remove:!0}),window.FS||this.asyncScript("https://www.fullstory.com/s/fs.js",{onStart:function(){window._fs_debug=!1,window._fs_host="www.fullstory.com",window._fs_org="3YG86",window._fs_namespace="FS"},onSuccess:function(){var t=window[window._fs_namespace||"FS"]=function(e,n){t.q?t.q.push([e,n]):t._api&&t._api(e,n)};t.q=[],t.setUserVars=function(e){t("user",e)},t.identify=function(e,n){t("user",{uid:e}),n&&t.setUserVars(n)},t.identifyAccount=function(e,n){o="account",n=n||{},n.acctId=e,t(o,n)},t.clearUserCookie=function(t,e,i){if(!t||ui.d.cookie.match("fs_uid=[`;`]*`[`;`]*`[`;`]*`"))for(e=n.domain;;){if(n.cookie="fs_uid=;domain="+e+";path=/;expires="+new Date(0).toUTCString(),i=e.indexOf("."),0>i)break;e=e.slice(i+1)}},ui.identify.fs()}}),this.asyncScript("https://connect.facebook.net/en_US/fbevents.js",{onStart:function(){var t;window.fbq||(t=window.fbq=function(){t.callMethod?t.callMethod.apply(t,arguments):t.queue.push(arguments)},window._fbq=window._fbq||t,t.push=t,t.loaded=!0,t.version="2.0",t.queue=[]),fbq("init","1265828396834846"),fbq("track","PageView")}}),this.asyncScript("https://cdn.ravenjs.com/3.14.2/raven.min.js",{crossorigin:"anonymous",onSuccess:function(){window.Raven&&Raven.config&&(Raven.config("https://1e8b57d9fb744a9ba1068e9b5cc5386c@sentry.io/156066",{environment:ui.environmen}).install(),ui.identify.raven())}}))},identify:{all:function(){"use strict";var t,e=Object.keys(this),n=["all","user","track"];for(ui.getUser(),t=0;t<e.length;t+=1)-1===n.indexOf(e[t])&&"function"==typeof this[e[t]]&&this[e[t]]()},track:function(t){"use strict";t=t||{};var e,n,i=0,o=5;"production"===ui.environment?(e=function(t){return 2>t?1:e(t-1)+2*(t-1)},(n=function(){i+=1,o>i&&("function"!=typeof t.callback?console.log("Analytics disabled",t):(t.hasOwnProperty("condition")&&"function"!=typeof t.condition?t.condition:t.condition())?t.callback():setTimeout(n,500*e(i)))})()):console.log("Identified",this.user)},fs:function(){"use strict";this.track({condition:function(){return window.FS&&this.user.email},callback:function(){FS.identify(this.user.email,this.user.fullName&&{displayName:this.user.fullName,email:this.user.email})}})},ga:function(){"use strict";this.track({condition:function(){return window.ga&&this.user.email},callback:function(){ga("set","userId",this.user.email)}})},raven:function(){"use strict";this.track({condition:function(){return window.Raven&&Raven.setUserContext&&this.user.email},callback:function(){var t={};t.email=this.user.email,this.user.fullName&&(t.username=this.user.fullName),Raven.setUserContext(t)}})},user:{}},setUser:function(t){"use strict";var e,n,i={},o=[];try{return e=t&&(t.email||t.EMAIL),n=e!==this.identify.user.email,this.getUser(),e&&(n||(i=this.identify.user),i.date=+new Date,i.referrer=location.href,i.email=e,t.avatar&&(i.avatar=t.avatar),(t.tel||t.PHONE)&&(i.telephone=t.tel||t.PHONE),(t.name||t.FNAME||t.firstName)&&(o.push(t.name||t.FNAME||t.firstName),i.firstName=t.name||t.FNAME||t.firstName),t.lastName&&(o.push(t.lastName),i.lastName=t.lastName),!o.length||i.fullName&&!t.lastName||(i.fullName=o.join(" ")),this.identify.user=i,localStorage.user=JSON.stringify(i),this.identify.all()),i}catch(r){return{}}},getUser:function(){"use strict";return this.identify.user=function(){try{return JSON.parse(localStorage.user)}catch(t){return{}}}(),this.identify.user},hash:function(t){"use strict";var e,n,i=location.hash.replace(/^#!?/,"").split("&"),o={};if(i.length)for(n=0;n<i.length;n+=1)e=i[n].split("="),e[0]&&(o[e[0]]=isNaN(e[1])?e[1]&&decodeURIComponent(e[1]):Number(e[1]));return t?o[t]:o},confirm:function(t){"use strict";var e,n;if(t&&"checkbox"===t.type)for(e=t.parentNode.parentNode.querySelectorAll("button, .button"),n=0;n<e.length;n+=1)t.checked?e[n].removeAttribute("disabled"):e[n].setAttribute("disabled","")},legacy:function(){"use strict";!this.has.classList&&Element.prototype&&Object.defineProperty(Element.prototype,"classList",{get:function(){function t(){return n.className.split(/\s+/)}function e(e){return function(i){var o=t(),r=o.indexOf(i);e(o,r,i),n.className=o.join(" ")}}var n=this;return{add:e(function(t,e,n){~e||t.push(n)}),contains:function(e){return!!~t().indexOf(e)},item:function(e){return t()[e]||null},remove:e(function(t,e){~e&&t.splice(e,1)}),toggle:e(function(t,e,n){~e?t.splice(e,1):t.push(n)})}}}),Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{value:function(){this.parentElement&&this.parentElement.removeChild(this)}}),String.prototype.format||Object.defineProperty(String.prototype,"format",{value:function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,n){return"undefined"==typeof t[n]?e:t[n]})}}),this.has.eventListener||!function(t,e,n,i,o,r,s){t[i]=e[i]=n[i]=function(t,e){var n=this;s.unshift([n,t,e,function(t){t.currentTarget=n,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||n,e.call(n,t)}]),this.attachEvent("on"+t,s[0][3])},t[o]=e[o]=n[o]=function(t,e){var n,i;for(i=0;n=s[i];i+=1)if(n[0]===this&&n[1]===t&&n[2]===e)return this.detachEvent("on"+t,s.splice(i,1)[0][3])},t[r]=e[r]=n[r]=function(t){return this.fireEvent("on"+t.type,t)}}(this.w.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),"undefined"==typeof console&&(this.w.console={log:function(){return arguments},error:function(){return arguments}});try{localStorage.setItem("localStorage","1"),localStorage.removeItem("localStorage")}catch(t){ui.w.localStorage&&delete ui.w.localStorage,ui.w.localStorage={}}},init:function(){"use strict";this.legacy(),this.getUser(),this.analytics()}},ui.init();