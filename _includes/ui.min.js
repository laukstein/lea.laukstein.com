window.ui={w:window,d:document,environment:"lea.laukstein.com"===location.hostname?"prod":"dev",awaitCallback:[],has:{classList:"classList"in document.documentElement},asyncScript:function(e){"use strict";var t,n,i,o,r,s=this.d.createElement("script"),a="function"==typeof arguments[1]&&arguments[1],c=a?arguments[2]||{}:arguments[1]||{},u=JSON.parse(JSON.stringify(c));if(e){if(s.src=e,s.async=!0,delete u.remove,delete u.onStart,delete u.onSuccess,Object.keys(u).length)for(r in u)u.hasOwnProperty(r)&&s.setAttribute(r,u[r]);return"function"==typeof c.onStart&&c.onStart(s),a&&(c.onSuccess=a),(this.d.head||this.d.body).appendChild(s),c.onSuccess||c.onError?(n=function(e){e=e===!0?"addEventListener":"removeEventListener",s[e]("load",o),s[e]("error",i),s[e]("readystatechange",t),"removeEventListener"===e&&c.remove&&s.remove()},o=function(){n(!1),c.onSuccess&&c.onSuccess(s)},i=function(){n(!1),c.onError&&c.onError()},t=function(e){"complete"!==e.readyState&&"loaded"!==e.readyState||o()},n(!0)):c.remove&&s.remove(),s}return null},analytics:function(){"use strict";"prod"===this.environment?(this.asyncScript("https://www.google-analytics.com/analytics.js",{onSuccess:function(){window.ga&&(ga("create","UA-11883501-1","laukstein.com",{clientId:localStorage.gaClientId,storage:"none",userId:ui.identify.user.email}),localStorage.gaClientId||ga(function(e){localStorage.gaClientId=e.get("clientId")}),ga("send",{hitType:"pageview",title:ui.d.title,page:location.pathname}),ui.identify.ga())},remove:!0}),window.FS||this.asyncScript("https://fullstory.com/s/fs.js",{onStart:function(){window._fs_debug=!1,window._fs_host="fullstory.com",window._fs_org="3YG86",window._fs_namespace="FS";var e=window[window._fs_namespace]=function(t,n,i){e.q?e.q.push([t,n,i]):e._api&&e._api(t,n,i)};e.q=[],e.setUserVars=function(t,n){e("user",t,n)},e.identify=function(t,n,i){e("user",{uid:t},i),n&&e("user",n,i)},e.event=function(t,n,i){e("event",{n:t,p:n},i)},e.shutdown=function(){e("rec",!1)},e.restart=function(){e("rec",!0)},e.consent=function(t){e("consent",!arguments.length||t)},e.identifyAccount=function(t,n){o="account",n=n||{},n.acctId=t,e(o,n)},e.clearUserCookie=function(){}},onSuccess:function(){ui.identify.fs()}}),this.asyncScript("https://connect.facebook.net/en_US/fbevents.js",{onStart:function(){var e;window.fbq||(e=window.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},window._fbq=window._fbq||e,e.push=e,e.loaded=!0,e.version="2.0",e.queue=[]),fbq("init","1265828396834846"),fbq("track","PageView")}}),this.asyncScript("https://browser.sentry-cdn.com/4.5.4/bundle.min.js",{integrity:"sha384-+xRNR5D6o6qIxyC4brQP4fUet66z5sBqAahoNlb+RIqLlhqY9Daf4XihIGIoQ40w",crossorigin:"anonymous",onSuccess:function(){window.Sentry&&Sentry.init&&(Sentry.init({dsn:"https://1e8b57d9fb744a9ba1068e9b5cc5386c@sentry.io/156066",environment:ui.environment,whitelistUrls:[/lea\.laukstein\.com/]}),ui.identify.sentry())}})):this.identify.all()},identify:{all:function(){"use strict";var e,t=Object.keys(this),n=["all","user","track"];for(ui.getUser(),e=0;e<t.length;e+=1)-1===n.indexOf(t[e])&&"function"==typeof this[t[e]]&&this[t[e]]()},track:function(e){"use strict";e=e||{};var t,n=this,i=0,o=4;"prod"===ui.environment&&(t=function(){i+=1,o>i&&(e.condition(n)?(e.callback(n),e.log(n)):setTimeout(t,1e3*(i-1)))})()},fs:function(){"use strict";this.track({name:"FullStory",condition:function(e){return window.FS&&e.user.email},params:function(e){var t={};return t.email=e.user.email,e.user.fullName&&(t.displayName=e.user.fullName),e.user.phone&&(t.phone_str=e.user.phone),t},callback:function(e){FS.identify(e.user.email,this.params(e))},log:function(e){console.log("FullStory",e.user.email,this.params(e))}})},ga:function(){"use strict";this.track({name:"Google Analytics",condition:function(e){return window.ga&&e.user.email},callback:function(e){ga("set","userId",e.user.email)},log:function(e){console.log("Google Analytics",e.user.email)}})},sentry:function(){"use strict";this.track({name:"Sentry",condition:function(e){return window.Sentry&&Sentry.configureScope&&e.user.email},params:function(e){var t={};return t.email=e.user.email,e.user.fullName&&(t.username=e.user.fullName),t},callback:function(e){var t=this;Sentry.configureScope(function(n){n.setUser(t.params(e))})},log:function(e){console.log("Sentry",this.params(e))}})},user:{}},setUser:function(e){"use strict";var t,n,i={},o=[];try{return t=e&&(e.email||e.EMAIL||"").toLowerCase(),n=t!==this.identify.user.email,this.getUser(),t&&(n||(i=this.identify.user),i.date=+new Date,i.referrer=location.href,i.email=t,e.avatar&&(i.avatar=e.avatar),(e.tel||e.PHONE)&&(i.phone=e.tel||e.PHONE),(e.name||e.FNAME||e.firstName)&&(o.push(e.name||e.FNAME||e.firstName),i.firstName=e.name||e.FNAME||e.firstName),e.lastName&&(o.push(e.lastName),i.lastName=e.lastName),!o.length||i.fullName&&!e.lastName||(i.fullName=o.join(" ")),this.identify.user=i,localStorage.user=JSON.stringify(i),this.identify.all()),i}catch(r){return{}}},getUser:function(){"use strict";return this.identify.user=function(){try{return JSON.parse(localStorage.user)}catch(e){return{}}}(),this.identify.user.telephone&&(this.identify.user.phone=this.identify.user.telephone,delete this.identify.user.telephone,localStorage.user=JSON.stringify(this.identify.user)),this.identify.user},isNumber:function(e){"use strict";return!isNaN(parseFloat(e))&&isFinite(e)&&(String(e).length===String(Number(e)).length||e.indexOf(".")>0)},isObj:function(e){"use strict";try{var t=JSON.parse(e);return"object"==typeof t}catch(n){return!1}},hash:function(e){"use strict";e="string"==typeof e||Array.isArray(e)?{param:e}:e||{},"string"!=typeof e.hash&&(e.hash=e.getCookie?ui.d.cookie:location.hash);var t,n,i=e.getCookie?e.hash.split("; "):e.hash.replace(/^\??#?!?/,"").split(/\?|#|&/),o={};if(i.length)for(n=0;n<i.length;n+=1)t=i[n].split(/\x3D(.+)/,2),t[0]&&!o.hasOwnProperty(t[0])&&(t[0]=decodeURIComponent(t[0]),this.isNumber(t[1])?o[t[0]]=Number(t[1]):(t[1]=t[1]&&t[1].replace(/(?:%[a-f0-9]+)+/gim,decodeURIComponent),t[1]&&this.isObj(t[1])&&(t[1]=JSON.parse(t[1])),o[t[0]]=t[1]));return Array.isArray(e.param)?this.filterObj(o,function(t){return e.param.includes(t)}):e.param?o[e.param]:o},serialize:function(e,t){"use strict";if("object"==typeof e){t=t||{};var n,i=Object.keys(e),o=[];for(n=0;n<i.length;n+=1)e[i[n]]?o.push(i[n]+"="+encodeURIComponent(e[i[n]])):t.setEmptyValue&&o.push(i[n]);return o.join("&")}return""},filterObj:function(e,t){"use strict";return Object.keys(e).filter(function(n){return t(n,e)}).reduce(function(t,n){return t[n]=e[n],t},{})},confirm:function(e){"use strict";var t,n;if(e&&"checkbox"===e.type)for(t=e.parentNode.parentNode.querySelectorAll("button, .button"),n=0;n<t.length;n+=1)e.checked?t[n].removeAttribute("disabled"):t[n].setAttribute("disabled","")},video:{playlistLink:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=UUNNsgimJtU1q1LUMVsq44Dg&maxResults=50&key=AIzaSyBt0-e3Ups6i4p8GQs811EarYbpMiPfxg4",playlistLocalLink:"/assets/playlistItems.json",getData:function(e){"use strict";var t,n=ui.videoLegacy&&ui.videoLegacy[e]||{},i={};for(t in n)n.hasOwnProperty(t)&&(i[t]="https://dl.dropboxusercontent.com/s/"+n[t]+"/"+e+("image"===t?".jpg":"-"+t+".mp4"));return i},size:function(){"use strict";if(sessionStorage.videoSize)return sessionStorage.videoSize;var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection,t="720p";if(e&&e.type)switch(e.type){case"none":case"2g":case"bluetooth":case"cellular":case"3g":t="360p"}else(navigator.maxTouchPoints>0||window.matchMedia&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window)&&(t="360p");return sessionStorage.videoSize=t,t}(),template:function(e){"use strict";var t=this.getData(e);return e?'<video poster="'+t.image+'" preload=auto crossorigin playsinline controls controlsList=nodownload>    <source src="'+t[this.size]+'" type="video/mp4"></video>':""},youtubeConvert:function(){"use strict";var e,t=Array.from(ui.d.querySelectorAll(".video iframe"));for(e=0;e<t.length;e+=1)t[e].outerHTML=this.template(t[e].src.replace(/^.*\/embed\//,"").replace(/\?.*$/,""))},applyPlyr:function(){"use strict";var e,t=this;t.youtubeSupport||(e=function(){t.youtubeConvert();var e=Array.from(ui.d.querySelectorAll(".video video")),n={controls:["play-large","play","progress","current-time","mute","volume","pip","airplay","fullscreen"],resetOnEnd:!0,iconUrl:"/assets/plyr.svg",blankUrl:"/assets/blank.mp4",volume:10};e.map(function(e){return new Plyr(e,n)}),delete ui.video.youtubeSupportProgress},ui.w.Plyr?e():t.youtubeSupportProgress||(t.youtubeSupportProgress=!0,ui.asyncScript("/assets/plyr.polyfilled.min.js",e)))},youtubeSupport:function(e){"use strict";var t=ui.video,n={};return n.callback=function(){if(t.youtubeSupport=!1,ui.videoLegacy)sessionStorage["ui.videoLegacy"]=JSON.stringify(ui.videoLegacy);else try{ui.videoLegacy=JSON.parse(sessionStorage["ui.videoLegacy"])}catch(e){ui.videoLegacy={}}if(t.youtubeConvert(),!ui.w.Plyr&&!t.youtubeSupportProgress){t.applyPlyr();var n=ui.d.createElement("link");n.href="/assets/plyr.css",n.rel="stylesheet",ui.d.body.appendChild(n)}return t.youtubeSupport},n.legacyCallback=function(){"function"==typeof e&&e()},sessionStorage["ui.videoLegacy"]&&"false"===sessionStorage.youtubeSupport?(n.legacyCallback(),n.callback()):(n.get=function(e,t,n){var i=new Image;i.addEventListener("load",t),i.addEventListener("error",n),i.src=e},n.result=function(e){sessionStorage.youtubeSupport=!!e,!e&&t.youtubeSupport&&ui.asyncScript("/assets/ui-videoLegacy.js",this.callback)},n.error=function(e){e&&n.legacy(!0),n.result(!1)},n.success=function(e){e.target.naturalWidth>1?(this.result(!0),t.youtubeSupport=!0):this.error()},n.legacy=function(i){var o=localStorage.videos;try{o=o&&JSON.parse(o)}catch(r){}o?i?this.legacyCallback():o.local?this.error(!0):(this.result(!0),this.legacyCallback()):(this.call=function(o,r){fetch(o).then(function(e){return e.json()}).then(function(t){return t.downloadTime=+new Date,localStorage.videos=JSON.stringify(t),"function"==typeof e&&e(),n.result(!r)})["catch"](function(){return/^https?:\/\/.*/.test(o)?n.call(t.playlistLocalLink,!0):!i&&n.error(!0)})},this.call(t.playlistLink))},n.get("https://www.youtube.com/favicon.ico",function(e){e.target.naturalWidth>1?n.legacy():n.error()},n.error),"checking")}},legacy:function(e){"use strict";var t=this;if("function"==typeof e&&t.awaitCallback.push(e),t.legacy.__once)return void(t.legacy.__loading||t.legacy.__runAwaitList());t.legacy.__once=!0,t.legacy.__loading=!0,t.legacy.__runAwaitList=function(){var e,n=t.awaitCallback.slice();for(t.legacy.__loading&&delete t.legacy.__loading,e=0;e<n.length;e+=1)t.awaitCallback.splice(0,1),n[e]&&"function"==typeof n[e]&&n[e]()};try{localStorage.localStorage="1",delete localStorage.localStorage}catch(n){ui.w.localStorage&&delete ui.w.localStorage,ui.w.sessionStorage&&delete ui.w.sessionStorage,ui.w.localStorage={},ui.w.sessionStorage={}}"undefined"==typeof console&&(this.w.console={log:function(){return arguments}},this.w.console.warn=this.w.console.log,this.w.console.error=this.w.console.log),String.prototype.format||Object.defineProperty(String.prototype,"format",{value:function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return"undefined"==typeof e[n]?t:e[n]})}}),Array.from&&Array.prototype.includes&&t.w.fetch&&t.w.Promise&&String.prototype.startsWith?t.video.youtubeSupport(t.legacy.__runAwaitList):t.asyncScript("/assets/legacy.js",function(){t.video.youtubeSupport(t.legacy.__runAwaitList)})},init:function(){"use strict";var e=this;this.legacy(function(){e.getUser(),e.analytics();var t={el:e.d.getElementById("bar-close")};t.el&&(t.event=e.w.PointerEvent?"pointerdown":navigator.maxTouchPoints>0||(e.w.matchMedia?e.w.matchMedia("(pointer: coarse)").matches:"ontouchstart"in e.w)?"touchstart":"mousedown",t.options="mousedown"!==t.event&&function(){var e,t=!1;try{e=Object.defineProperty({},"passive",{get:function(){return t=!0}}),addEventListener("test",e,e),removeEventListener("test",e,e)}catch(n){t=!1}return t}()?{passive:!0}:!0,t.el.addEventListener(t.event,t.el.click,t.options))})}},ui.cookie=function(){"use strict";var e=function(e,t){if("object"==typeof e&&!Array.isArray(e)){var n,i;t=ui.isNumber(t)?t:86400,t=new Date(1*new Date+1e3*t).toUTCString();for(n in e)e.hasOwnProperty(n)&&(i="object"==typeof e[n]?JSON.stringify(e[n]):e[n],ui.d.cookie=encodeURIComponent(n)+"="+encodeURIComponent(i)+";expires="+t+";secure;samesite=strict")}return ui.hash({getCookie:!0,param:"string"==typeof e||Array.isArray(e)?e:void 0})};return e.remove=function(e){var t={};return e?Array.isArray(e)?e.forEach(function(e){t[e]=""}):t[e]="":(e=ui.d.cookie.split("; "),e.forEach(function(e){t[decodeURIComponent(e.split(/\x3D(.+)/,1)[0])]=""})),ui.cookie(t,-1)},e}(),ui.init();