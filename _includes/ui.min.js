"use strict";window.ui={w:window,d:document,environment:"lea.laukstein.com"===location.hostname?"prod":"dev",endpoint:"https://lab.laukstein.com/webhook",awaitCallback:[],has:{classList:"classList"in document.documentElement},log:function(e){if(console.log(e),window.FS)try{FS.log(e)}catch(e){console.error(e),console.trace()}},generateID:function(){return Math.random().toString(16).substr(2,8).toUpperCase()},asyncScript:function(e){var t,n,o,i,r,a=this.d.createElement("script"),s="function"==typeof arguments[1]&&arguments[1],c=s?arguments[2]||{}:arguments[1]||{},u=JSON.parse(JSON.stringify(c));if(e){if(a.src=e,a.async=!0,delete u.remove,delete u.onStart,delete u.onSuccess,Object.keys(u).length)for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&a.setAttribute(r,u[r]);return"function"==typeof c.onStart&&c.onStart(a),s&&(c.onSuccess=s),(this.d.head||this.d.body).appendChild(a),c.onSuccess||c.onError?(n=function(e){a[e=!0===e?"addEventListener":"removeEventListener"]("load",i),a[e]("error",o),a[e]("readystatechange",t),"removeEventListener"===e&&c.remove&&a.remove()},i=function(){n(!1),c.onSuccess&&c.onSuccess(a)},o=function(){n(!1),c.onError&&c.onError()},t=function(e){"complete"!==e.readyState&&"loaded"!==e.readyState||i()},n(!0)):c.remove&&a.remove(),a}return null},analytics:function(){"prod"===this.environment?(this.asyncScript("https://d2wy8f7a9ursnm.cloudfront.net/v7/bugsnag.min.js",{onSuccess:function(){window.Bugsnag&&"function"==typeof Bugsnag.start&&(Bugsnag.start({apiKey:"99f662f6b9f9aa6eb92495f72b147a04",autoTrackSessions:!1,collectUserIp:!1,onError:function(e){var t;e&&window.FS&&"function"==typeof FS.getCurrentSessionURL&&((t=FS.getCurrentSessionURL(!0))&&e.addMetadata("fullstory",{urlAtTime:t}))}}),ui.identify.bugsnag())}}),this.asyncScript("https://www.googletagmanager.com/gtag/js?id=G-PFVPM1DDTP",{onStart:function(){window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config","G-PFVPM1DDTP",{page_path:location.href})},onSuccess:function(){ui.identify.gtag()}}),window._fs_script="edge.fullstory.com/s/fs.js",this.asyncScript("https://"+window._fs_script,{onStart:function(){window._fs_run_in_iframe=!0,window._fs_debug=!1,window._fs_host="fullstory.com",window._fs_org="3YG86",window._fs_namespace="FS";var o=window[window._fs_namespace]=function(e,t,n){o.q?o.q.push([e,t,n]):o._api&&o._api(e,t,n)};o.q=[],o.identify=function(e,t,n){o("user",{uid:e},n),t&&o("user",t,n)},o.setUserVars=function(e,t){o("user",e,t)},o.event=function(e,t,n){o("event",{n:e,p:t},n)},o.anonymize=function(){o.identify(!1)},o.shutdown=function(){o("rec",!1)},o.restart=function(){o("rec",!0)},o.log=function(e,t){o("log",[e,t])},o.consent=function(e){o("consent",!arguments.length||e)},o.identifyAccount=function(e,t){(t=t||{}).acctId=e,o("account",t)},o.clearUserCookie=function(){},o.setVars=function(e,t){o("setVars",[e,t])},o._w={},o._w.XMLHttpRequest=window.XMLHttpRequest,window.fetch&&(o._w.fetch=window.fetch,window.fetch=function(){return o._w.fetch.apply(this,arguments)})},onSuccess:function(){ui.identify.fs()}}),this.asyncScript("https://connect.facebook.net/en_US/fbevents.js",{onStart:function(){var e;window.fbq||(e=window.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},window._fbq=window._fbq||e,(e.push=e).loaded=!0,e.version="2.0",e.queue=[]),fbq("init","1265828396834846"),fbq("track","PageView")}})):this.identify.all()},identify:{all:function(){var e,t=Object.keys(this),n=["all","user","track"];for(ui.getUser(),e=0;e<t.length;e+=1)-1===n.indexOf(t[e])&&"function"==typeof this[t[e]]&&this[t[e]]()},track:function(e){e=e||{};var t,n=this,o=0;"prod"===ui.environment&&(t=function(){(o+=1)<4&&(e.condition(n)?(e.callback(n),e.log(n)):setTimeout(t,1e3*(o-1)))})()},bugsnag:function(){this.track({name:"Bugsnag",condition:function(e){return e.user.email&&window.Bugsnag&&"function"==typeof Bugsnag.setUser},params:function(e){var t={};return t.email=e.user.email,e.user.fullname&&(t.name=e.user.fullname),t},callback:function(e){e=this.params(e);Bugsnag.setUser(e.email,e.email,e.name)},log:function(e){console.log("Bugsnag",this.params(e))}})},fs:function(){this.track({name:"FullStory",condition:function(e){return window.FS&&e.user.email},params:function(e){var t={};return t.email=e.user.email,e.user.fullname&&(t.displayName=e.user.fullname),e.user.phone&&(t.phone_str=String(e.user.phone)),t},callback:function(e){FS.identify(e.user.email,this.params(e))},log:function(e){console.log("FullStory",e.user.email,this.params(e))}})},gtag:function(){this.track({name:"Google Analytics",condition:function(e){return window.gtag&&ui.sha256&&e.user.email},callback:async function(e){e=await ui.sha256(e.user.email);gtag("set",{user_data:{email_address:e}})},log:function(e){console.log("Google Analytics",e.user.email)}})},user:{}},setUser:function(e){var t,n,o={},i=[];try{return n=(t=e&&(e.email||e.EMAIL||"").toLowerCase())!==this.identify.user.email,this.getUser(),t&&(n||(o=this.identify.user),o.date=Number(new Date),o.referrer=location.href,o.email=t,e.avatar&&(o.avatar=e.avatar),(e.tel||e.PHONE)&&(o.phone=e.tel||e.PHONE),(e.name||e.FNAME||e.firstname)&&(i.push(e.name||e.FNAME||e.firstname),o.firstname=e.name||e.FNAME||e.firstname),e.lastname&&(i.push(e.lastname),o.lastname=e.lastname),!i.length||o.fullname&&!e.lastname||(o.fullname=i.join(" ")),this.identify.user=o,localStorage.user=JSON.stringify(o),this.identify.all()),o}catch(e){return{}}},getUser:function(){return this.identify.user=function(){try{return JSON.parse(localStorage.user)}catch(e){return{}}}(),this.identify.user.telephone&&(this.identify.user.phone=this.identify.user.telephone,delete this.identify.user.telephone,localStorage.user=JSON.stringify(this.identify.user)),this.identify.user},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)&&(String(e).length===String(Number(e)).length||0<e.indexOf("."))},isObj:function(e){try{return"object"==typeof JSON.parse(e)}catch(e){return!1}},hash:function(t){"string"!=typeof(t="string"==typeof t||Array.isArray(t)?{param:t}:t||{}).hash&&(t.hash=t.getCookie?ui.d.cookie:location.hash);var e,n,o=t.getCookie?t.hash.split("; "):t.hash.replace(/^\??#?!?/,"").split(/\?|#|&/),i={};if(o.length)for(n=0;n<o.length;n+=1)(e=o[n].split(/\x3D(.+)/,2))[0]&&!Object.prototype.hasOwnProperty.call(i,e[0])&&(e[0]=decodeURIComponent(e[0]),this.isNumber(e[1])?i[e[0]]=Number(e[1]):(e[1]=e[1]&&e[1].replace(/(?:%[a-f0-9]+)+/gim,decodeURIComponent),e[1]&&this.isObj(e[1])&&(e[1]=JSON.parse(e[1])),i[e[0]]=e[1]));return Array.isArray(t.param)?this.filterObj(i,function(e){return t.param.includes(e)}):t.param?i[t.param]:i},serialize:function(e,t){if("object"!=typeof e)return"";t=t||{};for(var n=Object.keys(e),o=[],i=0;i<n.length;i+=1)e[n[i]]?o.push(n[i]+"="+encodeURIComponent(e[n[i]])):t.setEmptyValue&&o.push(n[i]);return o.join("&")},filterObj:function(n,t){return Object.keys(n).filter(function(e){return t?t(e,n):n[e]}).reduce(function(e,t){return e[t]=n[t],e},{})},video:{playlistLink:"https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=UUNNsgimJtU1q1LUMVsq44Dg&maxResults=50&key=AIzaSyBt0-e3Ups6i4p8GQs811EarYbpMiPfxg4",playlistLocal:"/assets/ui-videosList.js",getData:function(e){var t,n=ui.videosList&&ui.videosList[e]||{},o={};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o[t]="https://dl.dropboxusercontent.com/s/"+n[t]+"/"+e+("image"===t?".jpg":"-"+t+".mp4"));return o},size:function(){if(sessionStorage.videoSize)return sessionStorage.videoSize;var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection,t="720p";if(e&&e.type)switch(e.type){case"none":case"2g":case"bluetooth":case"cellular":case"3g":t="360p"}else(0<navigator.maxTouchPoints||window.matchMedia&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window)&&(t="360p");return sessionStorage.videoSize=t}(),template:function(e){var t=this.getData(e);return e?"<video data-id="+e+' poster="'+t.image+'" preload=auto crossorigin playsinline controls controlsList=nodownload>    <source src="'+t[this.size]+'" type="video/mp4"></video>':""},youtubeConvert:function(){for(var e=Array.from(ui.d.querySelectorAll(".video iframe")),t=0;t<e.length;t+=1)e[t].outerHTML=this.template(e[t].src.replace(/^.*\/embed\//,"").replace(/\?.*$/,""))},applyPlyr:function(){var e,n;this.youtubeSupport||(this.youtubeConvert(),e=Array.from(ui.d.querySelectorAll(".video video")),n={controls:["play-large","play","progress","current-time","mute","volume","pip","airplay","fullscreen"],resetOnEnd:!0,iconUrl:"/assets/plyr/plyr.svg",blankUrl:"/assets/plyr/blank.mp4",volume:10},e.map(function(e){var t=Object.assign({},n);return"oJqYt6ybTV0"===e.getAttribute("data-id")&&(t.previewThumbnails={enabled:!0,src:"/assets/plyr/thumbnails.vtt"}),new Plyr(e,t)}))},youtubeSupport:function(o){var n=ui.video,i={callback:function(){if(n.youtubeSupport=!1,ui.videosList)sessionStorage["ui.videosList"]=JSON.stringify(ui.videosList);else try{ui.videosList=JSON.parse(sessionStorage["ui.videosList"])}catch(e){ui.videosList={}}return n.youtubeConvert(),n.applyPlyr(),i.legacyCallback(),n.youtubeSupport},legacyCallback:function(){"function"==typeof o&&o()}};return sessionStorage["ui.videosList"]&&"false"===sessionStorage.isYouTubeSupported?i.callback():(i.get=function(e,t,n){var o=new Image;return o.addEventListener("load",t),o.addEventListener("error",n),o.src=e,o},i.result=function(e){sessionStorage.isYouTubeSupported=!!e,e||console.warn("YouTube blocked"),ui.w.FS&&FS.setUserVars&&FS.setUserVars({isYouTubeSupported_bool:!!e}),!e&&n.youtubeSupport&&ui.asyncScript(n.playlistLocal,this.callback)},i.error=function(e){e&&i.legacy(!0),i.result(!1)},i.success=function(e){1<e.target.naturalWidth?(this.result(!0),n.youtubeSupport=!0):this.error()},i.legacy=function(t){var e=localStorage.videos;try{e=e&&JSON.parse(e)}catch(e){}e?t?this.legacyCallback():e.local?this.error(!0):(this.result(!0),this.legacyCallback()):(this.call=function(e){function n(){return/^https?:\/\/.*/.test(e)?i.result():!t&&i.error(!0)}fetch(e).then(function(e){return e.json()}).then(function(t){if(!t||!Array.isArray(t.items))return Promise.reject(t);try{return i.get(t.items[0].snippet.thumbnails.default.url,function(e){1<e.target.naturalWidth?(t.downloadTime=Number(new Date),localStorage.videos=JSON.stringify(t),"function"==typeof o&&o(),i.result(!0)):n()},n)}catch(e){return Promise.reject()}}).catch(n)},this.call(n.playlistLink))},i.get("https://www.youtube.com/favicon.ico",function(e){1<e.target.naturalWidth?i.legacy():i.error()},i.error),"checking")}},legacy:function(e){var n=this;if("function"==typeof e&&n.awaitCallback.push(e),n.legacy.__once)n.legacy.__loading||n.legacy.__runAwaitList();else{n.legacy.__once=!0,n.legacy.__loading=!0,n.legacy.__runAwaitList=function(){var e,t=n.awaitCallback.slice();for(n.legacy.__loading&&delete n.legacy.__loading,e=0;e<t.length;e+=1)n.awaitCallback.splice(0,1),t[e]&&"function"==typeof t[e]&&t[e]()};try{localStorage.localStorage="1",delete localStorage.localStorage}catch(e){ui.w.localStorage&&delete ui.w.localStorage,ui.w.sessionStorage&&delete ui.w.sessionStorage,ui.w.localStorage={},ui.w.sessionStorage={}}"undefined"==typeof console&&(this.w.console={log:function(){return arguments}},this.w.console.warn=this.w.console.log,this.w.console.error=this.w.console.log,this.w.console.trace=this.w.console.log),String.prototype.format||Object.defineProperty(String.prototype,"format",{value:function(){var n=arguments;return this.replace(/{(\d+)}/g,function(e,t){return void 0===n[t]?e:n[t]})}}),Array.from&&Array.prototype.includes&&n.w.fetch&&n.w.Promise&&String.prototype.startsWith?n.video.youtubeSupport(n.legacy.__runAwaitList):n.asyncScript("/assets/legacy.js",function(){n.video.youtubeSupport(n.legacy.__runAwaitList)})}}},ui.cookie=function(i){function e(e,t){var n,o;if("object"==typeof e&&!Array.isArray(e))for(n in t=i.isNumber(t)?t:86400,t=new Date(Number(new Date)+1e3*t).toUTCString(),e)Object.prototype.hasOwnProperty.call(e,n)&&(o="object"==typeof e[n]?JSON.stringify(e[n]):e[n],i.d.cookie=encodeURIComponent(n)+"="+encodeURIComponent(o)+";expires="+t+";secure;samesite=lax");return i.hash({getCookie:!0,param:"string"==typeof e||Array.isArray(e)?e:void 0})}return e.remove=function(e){var t={};return e?Array.isArray(e)?e.forEach(function(e){t[e]=""}):t[e]="":(e=i.d.cookie.split("; ")).forEach(function(e){t[decodeURIComponent(e.split(/\x3D(.+)/,1)[0])]=""}),i.cookie(t,-1)},e}(ui),ui.init=function(t){t.legacy(function(){t.getUser(),t.analytics();var e={el:t.d.getElementById("bar-close")};e.el&&(e.event=t.w.PointerEvent?"pointerdown":0<navigator.maxTouchPoints||(t.w.matchMedia?t.w.matchMedia("(pointer: coarse)").matches:"ontouchstart"in t.w)?"touchstart":"mousedown",e.options="mousedown"===e.event||!function(){var e,t=!1;try{e=Object.defineProperty({},"passive",{get:function(){return t=!0}}),addEventListener("test",e,e),removeEventListener("test",e,e)}catch(e){t=!1}return t}()||{passive:!0},e.el.addEventListener(e.event,e.el.click,e.options))})}(ui),ui.sha256=async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),o=Array.from(new Uint8Array(n)),i=o.map(e=>e.toString(16).padStart(2,"0")).join("");return i};