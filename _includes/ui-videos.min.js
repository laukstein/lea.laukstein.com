ui.videos=function(){"use strict";function e(){var e,t;try{e=localStorage.videosDate&&new Date(Number(localStorage.videosDate))||s}catch(i){return 0}return e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),t=Date.UTC(s.getFullYear(),s.getMonth(),s.getDate()),Math.abs(Math.floor((t-e)/864e5))}function t(e,i){var r,a,o,s="";for(o=0;!r&&o<e.length;o+=1)a=e[o].snippet,a&&(i?a.resourceId&&a.resourceId.videoId===i&&(s+=t.loop(a,"video"),r=!0):s+=t.loop(a,"image"));return s}function i(e){var i,r=location.hash;r=r&&r.substring(1),e=ui.videos||e,e&&Array.isArray(e.items)&&(i=t(e.items,r),i?(r?e.scrollTop=ui.d.body.scrollTop:ui.d.title=o,ui.isLoaded||(a.classList.remove("center"),a.classList.add("table","scale","space","medium","no-padding")),a.innerHTML=r?i:t.list(i),ui.d.body.scrollTop=r?0:e.scrollTop||0,ui.isLoaded||(ui.asyncScript("https://apis.google.com/js/platform.js",{remove:!0}),ui.isLoaded=!0),ui.comment&&(r?ui.comment.load(a):(ui.comment.remove(),ui.w.gapi&&gapi.ytsubscribe.go()))):(r&&(location.hash=""),history.replaceState&&setTimeout(function(){history.replaceState({},ui.d.title,location.pathname)},0)))}function r(){return fetch("https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=UUNNsgimJtU1q1LUMVsq44Dg&maxResults=50&key=AIzaSyBt0-e3Ups6i4p8GQs811EarYbpMiPfxg4").then(function(e){return e.json()}).then(function(e){return r.getData(e,!0)})["catch"](function(e){return r.error(e)}),{inProgress:!0}}var a=ui.d.getElementById("content"),o=ui.d.title,s=new Date,n=3,l=0,c=1;return t.safe=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.loop=function(e,t){return this[t||"image"]({id:e.resourceId&&encodeURIComponent(e.resourceId.videoId),image:e.thumbnails&&(e.thumbnails.maxres&&encodeURI(e.thumbnails.maxres.url)||e.thumbnails.standard&&encodeURI(e.thumbnails.standard.url)),title:this.safe(e.title),description:this.safe(e.description).replace(/\n/g,"<br>"),date:function(){try{return new Date(e.publishedAt).toLocaleDateString("he",{year:"numeric",month:"long",day:"numeric"})}catch(t){}}()})},t.image=function(e){return"<li class=box>    <a class=absolute href=#"+e.id+" tabindex=0></a>    <figure><img src="+e.image+" alt="+e.title+"></figure>    <h2 class=wrapline>"+e.title+"</h2>"+(e.description?"    <p>"+e.description+"</p>":"")+(e.date?"    <div><time>"+e.date+"</time></div>":"")+"</li>"},t.video=function(e){return ui.d.title=e.title,'<article class="box card" dir=ltr>    <div class=video><iframe src="https://www.youtube.com/embed/'+e.id+'?showinfo=0&autoplay=1" allowfullscreen></iframe></div>    <div class=content dir=rtl>        <h1>'+e.title+"</h1>"+(e.description?"        <p>"+e.description+"</p>":"")+(e.date?"        <div><time>"+e.date+"</time></div>":"")+"    </div></article>"},t.list=function(e){return"<div class=space>    <h1>"+ui.d.title+"</h1>    <p>סרטונים ביוטיוב</p>    <div id=g-ytsubscribe class=g-ytsubscribe data-channelid=UCNNsgimJtU1q1LUMVsq44Dg data-layout=default data-count=hidden></div></div><ul class=list>"+e+"</ul>"},r.success=function(e){return e=e||{},e.error?this.error(e):(e.isLoaded=!0,localStorage.videos=JSON.stringify(e),localStorage.videosDate=localStorage.videosDate||+s,ui.videos&&(ui.videos=e),i(e),ui.videos&&(ui.videos=e),ui.w.onhashchange=i,e)},r.error=function(e){return delete localStorage.videos,delete localStorage.videosDate,e=e||{},a=a&&a.querySelector("strong"),a&&(a.innerHTML="שגיאת שרת, נסה מאוחר יותר."),ui.videos&&(ui.videos=e),e},r.getData=function(t,i){if(l+=1,l>n)return r.error();if(t&&e()<c){if(i)return r.success(t);try{return r.success(JSON.parse(t))}catch(a){return r()}}return r()},a||console.error("Missing container element"),a&&r.getData(localStorage.videos)}();